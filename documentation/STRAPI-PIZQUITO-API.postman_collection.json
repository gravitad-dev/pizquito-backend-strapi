{
	"info": {
		"_postman_id": "63615f33-221d-4567-8804-a5ae888cfad0",
		"name": "STRAPI-PIZQUITO-API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "43592215"
	},
	"item": [
		{
			"name": "AUTH",
			"item": [
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"identifier\": \"benser22@hotmail.com\",\n  \"password\": \"Password1\"\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/auth/local",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"auth",
								"local"
							]
						}
					},
					"response": []
				},
				{
					"name": "Register",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"test\",\n    \"email\": \"test@test.com\",\n    \"password\": \"Password1\"\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/auth/local/register",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"auth",
								"local",
								"register"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "USERS",
			"item": [
				{
					"name": "Get Me",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/users/me",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"users",
								"me"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/users?sort[0]=username:asc&pagination[page]=1&pagination[pageSize]=10&populate=*",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"users"
							],
							"query": [
								{
									"key": "sort[0]",
									"value": "username:asc",
									"description": "Ordenar por nombre de usuario ascendente (opciones: username:asc, username:desc, email:asc, email:desc, createdAt:asc, createdAt:desc)"
								},
								{
									"key": "pagination[page]",
									"value": "1",
									"description": "Número de página para paginación"
								},
								{
									"key": "pagination[pageSize]",
									"value": "10",
									"description": "Número de elementos por página (máximo 100)"
								},
								{
									"key": "populate",
									"value": "*",
									"description": "Poblar todas las relaciones"
								},
								{
									"key": "filters[username][$containsi]",
									"value": "",
									"description": "Filtrar por nombre de usuario (contiene, sin distinción de mayúsculas)",
									"disabled": true
								},
								{
									"key": "filters[email][$containsi]",
									"value": "",
									"description": "Filtrar por email (contiene, sin distinción de mayúsculas)",
									"disabled": true
								},
								{
									"key": "filters[confirmed][$eq]",
									"value": "",
									"description": "Filtrar por estado de confirmación (true/false)",
									"disabled": true
								},
								{
									"key": "filters[blocked][$eq]",
									"value": "",
									"description": "Filtrar por estado bloqueado (true/false)",
									"disabled": true
								},
								{
									"key": "filters[createdAt][$gte]",
									"value": "",
									"description": "Filtrar por fecha de creación mayor o igual (YYYY-MM-DD)",
									"disabled": true
								},
								{
									"key": "filters[createdAt][$lte]",
									"value": "",
									"description": "Filtrar por fecha de creación menor o igual (YYYY-MM-DD)",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get By ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/users/1",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"users",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"createdByAdmin\",\n    \"email\": \"created.admin@example.com\",\n    \"password\": \"Password1\",\n    \"role\": 3, // 1 (Authenticated), 2 (Public), 3 (admin-api)\n    \"confirmed\": true,\n    \"blocked\": false\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/users",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update User",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"benser\"\n    //   \"blocked\": false\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/users/1",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"users",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete User",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/users/8",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"users",
								"8"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "BILLING CONFIGURATION (CRON DAY)",
			"item": [
				{
					"name": "Get Billing Configuration",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/cron-day",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"cron-day"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Billing Configuration",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"data\": { \n        \"cron_day\": 25, // Día del mes en que se ejecutará el CRON (1-31)\n        \"cron_hour\": 5, // Hora del día para la ejecución (0-23, formato 24h)\n        \"cron_minute\": 0, // Minuto de la hora para la ejecución (0-59)\n        \"test_mode\": true, // Modo de prueba desactivado (false = producción)\n        \"test_interval_minutes\": 1, // Intervalo en minutos para modo test (solo aplica si test_mode = true)\n        \"timezone\": \"Europe/Madrid\", // Zona horaria para calcular las fechas de ejecución\n        \"is_active\": false, // CRON activado (true = se ejecutará automáticamente)\n        \"execution_notes\": \"Configuración actualizada manualmente\" // Notas sobre la última configuración o ejecución\n    }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/cron-day",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"cron-day"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "ROLES",
			"item": [
				{
					"name": "Get All Roles",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/users-permissions/roles",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"users-permissions",
								"roles"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "FILES",
			"item": [
				{
					"name": "List Files",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/upload/files",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"upload",
								"files"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get File By ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/upload/files/4",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"upload",
								"files",
								"4"
							]
						}
					},
					"response": []
				},
				{
					"name": "Upload Files",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "files",
									"type": "file",
									"src": [
										"/C:/Users/Benja/Pictures/paisaje2.jpg",
										"/C:/Users/Benja/Pictures/paisaje3.jpg"
									]
								}
							]
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/upload",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"upload"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete File",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/upload/files/18",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"upload",
								"files",
								"18"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete All Files (Bulk)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/upload/files",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"upload",
								"files"
							]
						},
						"description": "Borra TODOS los archivos registrados (base de datos y provider). Usa con extremo cuidado. Requiere Admin API Token."
					},
					"response": []
				},
				{
					"name": "Upload Files (Scoped)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "files",
									"description": "Archivo(s) a subir (puede ser múltiple).",
									"type": "file",
									"src": "/C:/Users/Benja/Documents/documento de prueba.pdf"
								},
								{
									"key": "scope",
									"value": "guardian",
									"description": "Enum: user, student, guardian, employee, company, classroom, enrollment, history, observation, promotion, school-period, service, invoice, report.",
									"type": "text"
								},
								{
									"key": "docId",
									"value": "x9396ccntibi2b3lfc8o7nc8",
									"description": "Identificador para carpeta por documento (p.ej. DNI/ID interno). Si no se envía y hay refId, se usa refId.",
									"type": "text"
								},
								{
									"key": "ref",
									"value": "api::student.student",
									"description": "Opcional: content-type para asociar media (comportamiento nativo de Strapi).",
									"type": "text",
									"disabled": true
								},
								{
									"key": "refId",
									"value": "11",
									"description": "Opcional: id de la entrada para asociar media. También puede servir como docId si no se envía docId.",
									"type": "text",
									"disabled": true
								}
							]
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/upload/files/scoped",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"upload",
								"files",
								"scoped"
							]
						},
						"description": "Sube archivos organizándolos por carpeta según scope y docId. Reglas: invoice → invoices/YYYY/MM; report(s) → reports/YYYY/MM/DD; otros → {scope}/{docId} o {scope}/misc/YYYY/MM/DD si no hay docId."
					},
					"response": []
				}
			]
		},
		{
			"name": "GLOBAL (singleType)",
			"item": [
				{
					"name": "Get Global",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/global",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"global"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Global",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"siteName\": \"Pizquito-Api\",\n    \"siteDescription\": \"Backend de Pizquito\",\n    \"defaultSeo\": {\n      \"metaTitle\": \"Pizquito-Api\",\n      \"metaDescription\": \"Descripción SEO\"\n    }\n  }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/global",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"global"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Global",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/global",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"global"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "COMPANY (singleType)",
			"item": [
				{
					"name": "Get Company",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/company",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"company"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Company",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"name\": \"Pizquito\",\n    \"code\": \"PZQ123\",\n    \"address\": \"Calle Principal 123, Madrid\",\n    \"NIF\": \"B12345678\"\n  }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/company",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"company"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Company",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/company",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"company"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "GUARDIANS",
			"item": [
				{
					"name": "List",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/guardians?sort[0]=name:asc&pagination[page]=1&pagination[pageSize]=10&populate=*",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"guardians"
							],
							"query": [
								{
									"key": "sort[0]",
									"value": "name:asc",
									"description": "Ordenar por nombre ascendente (opciones: name:asc, name:desc, lastname:asc, lastname:desc, createdAt:asc, createdAt:desc)"
								},
								{
									"key": "pagination[page]",
									"value": "1",
									"description": "Número de página para paginación"
								},
								{
									"key": "pagination[pageSize]",
									"value": "10",
									"description": "Número de elementos por página (máximo 100)"
								},
								{
									"key": "populate",
									"value": "*",
									"description": "Poblar todas las relaciones"
								},
								{
									"key": "filters[name][$containsi]",
									"value": "",
									"description": "Filtrar por nombre (contiene, sin distinción de mayúsculas)",
									"disabled": true
								},
								{
									"key": "filters[lastname][$containsi]",
									"value": "",
									"description": "Filtrar por apellido (contiene, sin distinción de mayúsculas)",
									"disabled": true
								},
								{
									"key": "filters[DNI][$eq]",
									"value": "",
									"description": "Filtrar por DNI exacto",
									"disabled": true
								},
								{
									"key": "filters[email][$containsi]",
									"value": "",
									"description": "Filtrar por email (contiene, sin distinción de mayúsculas)",
									"disabled": true
								},
								{
									"key": "filters[phone][$containsi]",
									"value": "",
									"description": "Filtrar por teléfono (contiene, sin distinción de mayúsculas)",
									"disabled": true
								},
								{
									"key": "filters[createdAt][$gte]",
									"value": "",
									"description": "Filtrar por fecha de creación mayor o igual (YYYY-MM-DD)",
									"disabled": true
								},
								{
									"key": "filters[createdAt][$lte]",
									"value": "",
									"description": "Filtrar por fecha de creación menor o igual (YYYY-MM-DD)",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"data\": {\n        \"name\": \"Carlos\",\n        \"lastname\": \"López García\",\n        \"DNI\": \"Z98765432\",\n        \"NIF\": \"Y7654321A\"\n    }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/guardians",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"guardians"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"name\": \"Carlos\",\n    \"lastname\": \"López García\",\n    \"DNI\": \"Z98765432\",\n    \"NIF\": \"Y7654321A\"\n  }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/guardians/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"guardians",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "l3a06sh23d069zdl27yx70zu"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/guardians/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"guardians",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "l3a06sh23d069zdl27yx70zu"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "STUDENTS",
			"item": [
				{
					"name": "List",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/students?sort[0]=name:asc&pagination[page]=1&pagination[pageSize]=10&populate=*",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"students"
							],
							"query": [
								{
									"key": "sort[0]",
									"value": "name:asc",
									"description": "Ordenar por nombre ascendente (opciones: name:asc, name:desc, lastname:asc, lastname:desc, createdAt:asc, createdAt:desc)"
								},
								{
									"key": "pagination[page]",
									"value": "1",
									"description": "Número de página para paginación"
								},
								{
									"key": "pagination[pageSize]",
									"value": "10",
									"description": "Número de elementos por página (máximo 100)"
								},
								{
									"key": "populate",
									"value": "*",
									"description": "Poblar todas las relaciones"
								},
								{
									"key": "filters[name][$containsi]",
									"value": "",
									"description": "Filtrar por nombre (contiene, sin distinción de mayúsculas)",
									"disabled": true
								},
								{
									"key": "filters[lastname][$containsi]",
									"value": "",
									"description": "Filtrar por apellido (contiene, sin distinción de mayúsculas)",
									"disabled": true
								},
								{
									"key": "filters[DNI][$eq]",
									"value": "",
									"description": "Filtrar por DNI exacto",
									"disabled": true
								},
								{
									"key": "filters[createdAt][$gte]",
									"value": "",
									"description": "Filtrar por fecha de creación mayor o igual (YYYY-MM-DD)",
									"disabled": true
								},
								{
									"key": "filters[createdAt][$lte]",
									"value": "",
									"description": "Filtrar por fecha de creación menor o igual (YYYY-MM-DD)",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get By documentID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/students/:documentID?populate=*",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"students",
								":documentID"
							],
							"query": [
								{
									"key": "populate",
									"value": "*"
								}
							],
							"variable": [
								{
									"key": "documentID",
									"value": "wbsoi4srffn1e8rdvy8hoqc8"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"name\": \"Juan\",\n    \"lastname\": \"Pérez\",\n    \"DNI\": \"12345678X\"\n  }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/students",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"students"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update by documentID",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": { \"city\": \"Madrid\" }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/students/:documentID",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"students",
								":documentID"
							],
							"variable": [
								{
									"key": "documentID",
									"value": "pnwg3aq26b6u0o2j72nc3y22"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete by documentID",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": { \"city\": \"Madrid\" }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/students/:documentID",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"students",
								":documentID"
							],
							"variable": [
								{
									"key": "documentID",
									"value": "nk6x36vgq7vek8kkl1s4lvx1"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "EMPLOYEES",
			"item": [
				{
					"name": "List",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/employees?sort[0]=name:desc&pagination[page]=1&pagination[pageSize]=10&populate=*",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"employees"
							],
							"query": [
								{
									"key": "sort[0]",
									"value": "name:desc",
									"description": "Ordenar por nombre descendente (opciones: name:asc, name:desc, lastname:asc, lastname:desc, createdAt:asc, createdAt:desc)"
								},
								{
									"key": "pagination[page]",
									"value": "1",
									"description": "Número de página para paginación"
								},
								{
									"key": "pagination[pageSize]",
									"value": "10",
									"description": "Número de elementos por página (máximo 100)"
								},
								{
									"key": "populate",
									"value": "*",
									"description": "Poblar todas las relaciones"
								},
								{
									"key": "filters[name][$containsi]",
									"value": "",
									"description": "Filtrar por nombre (contiene, sin distinción de mayúsculas)",
									"disabled": true
								},
								{
									"key": "filters[lastname][$containsi]",
									"value": "",
									"description": "Filtrar por apellido (contiene, sin distinción de mayúsculas)",
									"disabled": true
								},
								{
									"key": "filters[DNI][$eq]",
									"value": "",
									"description": "Filtrar por DNI exacto",
									"disabled": true
								},
								{
									"key": "filters[NIF][$eq]",
									"value": "",
									"description": "Filtrar por NIF exacto",
									"disabled": true
								},
								{
									"key": "filters[BIC][$containsi]",
									"value": "",
									"description": "Filtrar por BIC (contiene, sin distinción de mayúsculas)",
									"disabled": true
								},
								{
									"key": "filters[SWIFT][$containsi]",
									"value": "",
									"description": "Filtrar por SWIFT (contiene, sin distinción de mayúsculas)",
									"disabled": true
								},
								{
									"key": "filters[createdAt][$gte]",
									"value": "",
									"description": "Filtrar por fecha de creación mayor o igual (YYYY-MM-DD)",
									"disabled": true
								},
								{
									"key": "filters[createdAt][$lte]",
									"value": "",
									"description": "Filtrar por fecha de creación menor o igual (YYYY-MM-DD)",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"name\": \"Luis\",\n    \"lastname\": \"Fernández\",\n    \"DNI\": \"E87654321\",\n    \"NIF\": \"Y7654321X\",\n    \"BIC\": \"BICCODE987\",\n    \"SWIFT\": \"SWIFTCODE987\"\n  }\n}\n"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/employees",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"employees"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get By documentID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/employees/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"employees",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "r8d1mgtjwbtc524o47dznrlv"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    // \"name\": \"Ana\",\n    // \"lastname\": \"García Martínez\",\n    // \"DNI\": \"E12345678\",\n    // \"NIF\": \"X1234567Z\",\n    // \"BIC\": \"BICCODE123\",\n    \"SWIFT\": \"SWIFTCODE999\"\n  }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/employees/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"employees",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "r8d1mgtjwbtc524o47dznrlv"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/employees/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"employees",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "r8d1mgtjwbtc524o47dznrlv"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Export Invoice History [REMOVIDO]",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
								"description": "Tipo de contenido esperado (Excel)"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}",
								"description": "Token JWT para autenticación (si es requerido)",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/employees/:id/export-invoice-history?category=invoice_employ",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"employees",
								":id",
								"export-invoice-history"
							],
							"query": [
								{
									"key": "category",
									"value": "invoice_employ",
									"description": "Categoría de factura (invoice_employ para facturas de empleados)"
								},
								{
									"key": "startDate",
									"value": "2024-01-01",
									"description": "Fecha de inicio en formato YYYY-MM-DD (opcional)",
									"disabled": true
								},
								{
									"key": "endDate",
									"value": "2024-12-31",
									"description": "Fecha de fin en formato YYYY-MM-DD (opcional)",
									"disabled": true
								},
								{
									"key": "status",
									"value": "paid",
									"description": "Estado de la factura: unpaid, inprocess, paid, canceled (opcional)",
									"disabled": true
								}
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "ID del empleado"
								}
							]
						},
						"description": "Exporta el historial de facturas de un empleado específico en formato Excel (.xlsx).\n\n**Funcionalidad:**\n- Genera un archivo Excel con todas las facturas del empleado\n- Incluye filtros opcionales por fecha y estado\n- Formato profesional con encabezados, totales y estilos\n\n**Parámetros de ruta:**\n- `documentId`: Identificador del documento del empleado (requerido)\n\n**Parámetros de consulta opcionales:**\n- `startDate`: Fecha de inicio en formato YYYY-MM-DD\n- `endDate`: Fecha de fin en formato YYYY-MM-DD\n- `status`: Estado de la factura (unpaid, inprocess, paid, canceled)\n\n**Respuesta exitosa (200):**\n- Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\n- Content-Disposition: attachment; filename=\"historial_facturas_[Nombre]_[Apellido]_[Fecha].xlsx\"\n- Body: Archivo Excel binario\n\n**Estructura del Excel:**\n- ID, Título, Fecha Emisión, Fecha Vencimiento\n- Estado, Categoría, Tipo, Subtotal, IVA, Total\n- Origen, Notas\n- Fila de totales al final\n- Formato profesional con colores y filtros\n\n**Notas:**\n- Endpoint antiguo mantenido por compatibilidad. Se recomienda usar los nuevos endpoints en Reports XLSX:\n  - /api/reports/xlsx/invoices/employees/:documentId\n  - /api/reports/xlsx/invoices/enrollments/:documentId\n  - /api/reports/xlsx/invoices/general/:documentId\n  - /api/reports/xlsx/invoices/services/:documentId\n\n**Errores posibles:**\n- 404: Empleado no encontrado\n- 500: Error interno del servidor\n\n**Ejemplo de uso:**\n```\nGET /api/employees/:documentId/export-invoice-history?startDate=2024-01-01&endDate=2024-12-31\n```"
					},
					"response": [
						{
							"name": "Successful Export",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
									}
								],
								"url": {
									"raw": "{{STRAPI_URL_LOCAL}}/api/employees/1/export-invoice-history?category=invoice_employ",
									"host": [
										"{{STRAPI_URL_LOCAL}}"
									],
									"path": [
										"api",
										"employees",
										"1",
										"export-invoice-history"
									],
									"query": [
										{
											"key": "category",
											"value": "invoice_employ"
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
								},
								{
									"key": "Content-Disposition",
									"value": "attachment; filename=\"historial_facturas_Laura_Fernández Ruiz_2024-10-18.xlsx\""
								},
								{
									"key": "Access-Control-Expose-Headers",
									"value": "Content-Disposition"
								}
							],
							"cookie": [],
							"body": "[Binary Excel file content - 7.01 KB]"
						},
						{
							"name": "Employee Not Found",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
									}
								],
								"url": {
									"raw": "{{STRAPI_URL_LOCAL}}/api/employees/999/export-invoice-history",
									"host": [
										"{{STRAPI_URL_LOCAL}}"
									],
									"path": [
										"api",
										"employees",
										"999",
										"export-invoice-history"
									]
								}
							},
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"error\": {\n    \"status\": 404,\n    \"name\": \"NotFoundError\",\n    \"message\": \"Empleado no encontrado\"\n  }\n}"
						}
					]
				}
			]
		},
		{
			"name": "REPORTS XLSX",
			"item": [
				{
					"name": "Invoice List XLSX - Employees",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
							}
						],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/reports/xlsx/invoices/employees/:id",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"reports",
								"xlsx",
								"invoices",
								"employees",
								":id"
							],
							"query": [
								{
									"key": "startDate",
									"value": "2024-01-01",
									"disabled": true
								},
								{
									"key": "endDate",
									"value": "2024-12-31",
									"disabled": true
								},
								{
									"key": "status",
									"value": "paid",
									"disabled": true
								}
							],
							"variable": [
								{
									"key": "id",
									"value": "12"
								}
							]
						},
						"description": "Exportar XLSX con historial de facturas de empleado por id."
					},
					"response": []
				},
				{
					"name": "Invoice List XLSX - Enrollments",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
							}
						],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/reports/xlsx/invoices/enrollments/:id",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"reports",
								"xlsx",
								"invoices",
								"enrollments",
								":id"
							],
							"query": [
								{
									"key": "startDate",
									"value": "2024-01-01",
									"disabled": true
								},
								{
									"key": "endDate",
									"value": "2024-12-31",
									"disabled": true
								},
								{
									"key": "status",
									"value": "paid",
									"disabled": true
								}
							],
							"variable": [
								{
									"key": "id",
									"value": "14"
								}
							]
						},
						"description": "Exportar XLSX con historial de matrículas por id."
					},
					"response": []
				},
				{
					"name": "Invoice List XLSX - General",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
							}
						],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/reports/xlsx/invoices/general",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"reports",
								"xlsx",
								"invoices",
								"general"
							],
							"query": [
								{
									"key": "startDate",
									"value": "2024-01-01",
									"description": "Fecha de inicio (YYYY-MM-DD) para filtrar por fecha de emisión (inclusive)",
									"disabled": true
								},
								{
									"key": "endDate",
									"value": "2024-12-31",
									"description": "Fecha fin (YYYY-MM-DD) para filtrar por fecha de emisión (inclusive)",
									"disabled": true
								},
								{
									"key": "status",
									"value": "paid",
									"description": "Estado de factura: unpaid|inprocess|paid|canceled",
									"disabled": true
								},
								{
									"key": "sortBy",
									"value": "emissionDate",
									"description": "Campo de orden (por defecto emissionDate)",
									"disabled": true
								},
								{
									"key": "sortOrder",
									"value": "desc",
									"description": "Dirección de orden: asc|desc (por defecto desc)",
									"disabled": true
								},
								{
									"key": "invoiceType",
									"value": "expense",
									"description": "Tipo de factura: charge|payment|income|expense",
									"disabled": true
								},
								{
									"key": "registeredBy",
									"value": "system",
									"description": "Origen de registro: administration|bank|system",
									"disabled": true
								}
							]
						},
						"description": "Exportar XLSX con historial general; soporta filtros por fechas/estado y ordenamiento/otros filtros por query (sortBy, sortOrder, invoiceType, registeredBy)."
					},
					"response": []
				},
				{
					"name": "Invoice List XLSX - Services",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
							}
						],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/reports/xlsx/invoices/services",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"reports",
								"xlsx",
								"invoices",
								"services"
							],
							"query": [
								{
									"key": "startDate",
									"value": "2024-01-01",
									"description": "Fecha de inicio (YYYY-MM-DD) para filtrar por fecha de emisión (inclusive)",
									"disabled": true
								},
								{
									"key": "endDate",
									"value": "2024-12-31",
									"description": "Fecha fin (YYYY-MM-DD) para filtrar por fecha de emisión (inclusive)",
									"disabled": true
								},
								{
									"key": "status",
									"value": "paid",
									"description": "Estado de factura: unpaid|inprocess|paid|canceled",
									"disabled": true
								},
								{
									"key": "sortBy",
									"value": "emissionDate",
									"description": "Campo de orden (por defecto emissionDate)",
									"disabled": true
								},
								{
									"key": "sortOrder",
									"value": "desc",
									"description": "Dirección de orden: asc|desc (por defecto desc)",
									"disabled": true
								},
								{
									"key": "invoiceType",
									"value": "expense",
									"description": "Tipo de factura: charge|payment|income|expense",
									"disabled": true
								},
								{
									"key": "registeredBy",
									"value": "system",
									"description": "Origen de registro: administration|bank|system",
									"disabled": true
								}
							]
						},
						"description": "Exportar XLSX con historial de servicios; soporta filtros por fechas/estado y ordenamiento/otros filtros por query (sortBy, sortOrder, invoiceType, registeredBy)."
					},
					"response": []
				}
			]
		},
		{
			"name": "CLASSROOMS",
			"item": [
				{
					"name": "List",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/classrooms?sort[0]=title:asc&pagination[page]=1&pagination[pageSize]=10&populate=*",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"classrooms"
							],
							"query": [
								{
									"key": "sort[0]",
									"value": "title:asc",
									"description": "Ordenar por título ascendente (opciones: title:asc, title:desc, studentLimit:asc, studentLimit:desc, createdAt:asc, createdAt:desc)"
								},
								{
									"key": "pagination[page]",
									"value": "1",
									"description": "Número de página para paginación"
								},
								{
									"key": "pagination[pageSize]",
									"value": "10",
									"description": "Número de elementos por página (máximo 100)"
								},
								{
									"key": "populate",
									"value": "*",
									"description": "Poblar todas las relaciones"
								},
								{
									"key": "filters[title][$containsi]",
									"value": "",
									"description": "Filtrar por título (contiene, sin distinción de mayúsculas)",
									"disabled": true
								},
								{
									"key": "filters[description][$containsi]",
									"value": "",
									"description": "Filtrar por descripción (contiene, sin distinción de mayúsculas)",
									"disabled": true
								},
								{
									"key": "filters[classroomStatus][$eq]",
									"value": "",
									"description": "Filtrar por estado (disponible, ocupado, mantenimiento, etc.)",
									"disabled": true
								},
								{
									"key": "filters[studentLimit][$gte]",
									"value": "",
									"description": "Filtrar por límite mínimo de estudiantes",
									"disabled": true
								},
								{
									"key": "filters[studentLimit][$lte]",
									"value": "",
									"description": "Filtrar por límite máximo de estudiantes",
									"disabled": true
								},
								{
									"key": "filters[createdAt][$gte]",
									"value": "",
									"description": "Filtrar por fecha de creación mayor o igual (YYYY-MM-DD)",
									"disabled": true
								},
								{
									"key": "filters[createdAt][$lte]",
									"value": "",
									"description": "Filtrar por fecha de creación menor o igual (YYYY-MM-DD)",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"title\": \"Aula 1\",\n    \"description\": \"Primaria\",\n    \"studentLimit\": 25,\n    \"classroomStatus\": \"available\"\n  }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/classrooms",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"classrooms"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get By documentID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/classrooms/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"classrooms",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "sip5l72t9uu33vcr5sm22v6n"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"title\": \"Aula 1 - Renovada\",\n    \"description\": \"Primaria - Equipada con tecnología\",\n    \"studentLimit\": 30,\n    \"classroomStatus\": \"available\"\n  }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/classrooms/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"classrooms",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "b198h5h3elg3nunl5h74bba8"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/classrooms/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"classrooms",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "b198h5h3elg3nunl5h74bba8"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "ENROLLMENTS",
			"item": [
				{
					"name": "List",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/enrollments?sort[0]=title:asc&pagination[page]=1&pagination[pageSize]=10&populate=*",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"enrollments"
							],
							"query": [
								{
									"key": "sort[0]",
									"value": "title:asc",
									"description": "Ordenar por título ascendente (opciones: title:asc, title:desc, createdAt:asc, createdAt:desc)"
								},
								{
									"key": "pagination[page]",
									"value": "1",
									"description": "Número de página para paginación"
								},
								{
									"key": "pagination[pageSize]",
									"value": "10",
									"description": "Número de elementos por página (máximo 100)"
								},
								{
									"key": "populate",
									"value": "*",
									"description": "Poblar todas las relaciones"
								},
								{
									"key": "filters[title][$containsi]",
									"value": "",
									"description": "Filtrar por título (contiene, sin distinción de mayúsculas)",
									"disabled": true
								},
								{
									"key": "filters[description][$containsi]",
									"value": "",
									"description": "Filtrar por descripción (contiene, sin distinción de mayúsculas)",
									"disabled": true
								},
								{
									"key": "filters[isActive][$eq]",
									"value": "",
									"description": "Filtrar por estado activo (true/false)",
									"disabled": true
								},
								{
									"key": "filters[createdAt][$gte]",
									"value": "",
									"description": "Filtrar por fecha de creación mayor o igual (YYYY-MM-DD)",
									"disabled": true
								},
								{
									"key": "filters[createdAt][$lte]",
									"value": "",
									"description": "Filtrar por fecha de creación menor o igual (YYYY-MM-DD)",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"title\": \"Matrícula 2025\",\n    \"description\": \"Inicial\",\n    \"isActive\": true\n  }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/enrollments",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"enrollments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get By documentID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/enrollments/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"enrollments",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "bl0afbsz535fuf9z3jbpljze"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"title\": \"Matrícula 2025 - Actualizada\",\n    \"description\": \"Inicial - Proceso completado\",\n    \"isActive\": false\n  }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/enrollments/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"enrollments",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "bl0afbsz535fuf9z3jbpljze"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/enrollments/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"enrollments",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "bl0afbsz535fuf9z3jbpljze"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "INVOICES",
			"item": [
				{
					"name": "List",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/invoices?filters[invoiceCategory][$eq]=invoice_service&sort[0]=title:asc&pagination[page]=1&pagination[pageSize]=10&populate=*",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"invoices"
							],
							"query": [
								{
									"key": "filters[invoiceCategory][$eq]",
									"value": "invoice_service",
									"description": "Filtrar por categoría (invoice_enrollment, invoice_service, invoice_employ, invoice_general)"
								},
								{
									"key": "sort[0]",
									"value": "title:asc",
									"description": "Ordenar por título ascendente (opciones: title:asc, title:desc, total:asc, total:desc, emissionDate:asc, emissionDate:desc, expirationDate:asc, expirationDate:desc, createdAt:asc, createdAt:desc)"
								},
								{
									"key": "pagination[page]",
									"value": "1",
									"description": "Número de página para paginación"
								},
								{
									"key": "pagination[pageSize]",
									"value": "10",
									"description": "Número de elementos por página (máximo 100)"
								},
								{
									"key": "populate",
									"value": "*",
									"description": "Poblar todas las relaciones"
								},
								{
									"key": "filters[title][$containsi]",
									"value": "",
									"description": "Filtrar por título (contiene, sin distinción de mayúsculas)",
									"disabled": true
								},
								{
									"key": "filters[invoiceStatus][$eq]",
									"value": "",
									"description": "Filtrar por estado de factura (unpaid, inprocess, paid, canceled)",
									"disabled": true
								},
								{
									"key": "filters[invoiceType][$eq]",
									"value": "",
									"description": "Filtrar por tipo de factura (charge, payment, income, expense)",
									"disabled": true
								},
								{
									"key": "filters[registeredBy][$eq]",
									"value": "",
									"description": "Filtrar por registrado por (administration, bank, system)",
									"disabled": true
								},
								{
									"key": "filters[total][$gte]",
									"value": "",
									"description": "Filtrar por total mayor o igual",
									"disabled": true
								},
								{
									"key": "filters[total][$lte]",
									"value": "",
									"description": "Filtrar por total menor o igual",
									"disabled": true
								},
								{
									"key": "filters[emissionDate][$gte]",
									"value": "",
									"description": "Filtrar por fecha de emisión mayor o igual (YYYY-MM-DD)",
									"disabled": true
								},
								{
									"key": "filters[emissionDate][$lte]",
									"value": "",
									"description": "Filtrar por fecha de emisión menor o igual (YYYY-MM-DD)",
									"disabled": true
								},
								{
									"key": "filters[expirationDate][$gte]",
									"value": "",
									"description": "Filtrar por fecha de vencimiento mayor o igual (YYYY-MM-DD)",
									"disabled": true
								},
								{
									"key": "filters[expirationDate][$lte]",
									"value": "",
									"description": "Filtrar por fecha de vencimiento menor o igual (YYYY-MM-DD)",
									"disabled": true
								},
								{
									"key": "filters[createdAt][$gte]",
									"value": "",
									"description": "Filtrar por fecha de creación mayor o igual (YYYY-MM-DD)",
									"disabled": true
								},
								{
									"key": "filters[createdAt][$lte]",
									"value": "",
									"description": "Filtrar por fecha de creación menor o igual (YYYY-MM-DD)",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"data\": {\n        \"title\": \"Factura de ejemplo\",\n        \"notes\": \"Notas de la factura\",\n        \"issuedby\": \"Administración\",\n        \"invoiceStatus\": \"unpaid\",\n        \"invoiceType\": \"charge\",\n        \"registeredBy\": \"administration\",\n        \"invoiceCategory\": \"invoice_general\",\n        \"amounts\": {\n            \"subtotal\": 100,\n            \"tax\": 21,\n            \"total\": 121\n        },\n        \"total\": 121.00,\n        \"IVA\": 21,\n        \"emissionDate\": \"2025-01-15T10:00:00.000Z\",\n        \"expirationDate\": \"2025-02-15T10:00:00.000Z\",\n        \"employee\": 1,\n        \"enrollment\": 1\n    }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/invoices",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"invoices"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get By documentID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/invoices/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"invoices",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "vpiovieb0wbibcyqor6icppv"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"title\": \"Factura ejemplo - Actualizada\",\n    \"invoiceStatus\": \"paid\",\n    \"invoiceType\": \"charge\",\n    \"registeredBy\": \"administration\",\n    \"amounts\": {\n      \"subtotal\": 165.29,\n      \"tax\": 34.71,\n      \"total\": 200.00\n    },\n    \"total\": 200.00,\n    \"IVA\": 21,\n    \"expirationDate\": \"2025-02-15T10:00:00.000Z\",\n    \"emissionDate\": \"2025-01-15T10:00:00.000Z\",\n    \"notes\": \"Factura actualizada y pagada\"\n  }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/invoices/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"invoices",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "vl4fuv32wbmxvwotuzxfrktj"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/invoices/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"invoices",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "vpiovieb0wbibcyqor6icppv"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "OBSERVATIONS",
			"item": [
				{
					"name": "List",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/observations?populate=*",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"observations"
							],
							"query": [
								{
									"key": "populate",
									"value": "*"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"title\": \"Observación\",\n    \"description\": \"Detalle\",\n    \"date\": \"2025-10-01\"\n  }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/observations",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"observations"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get By documentID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/observations/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"observations",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "o46pn2s6zh77t7bczwo5tz5h"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"title\": \"Observación Actualizada\",\n    \"description\": \"Detalle modificado con información adicional\",\n    \"date\": \"2025-10-15\"\n  }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/observations/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"observations",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "vjv3zapvrv7m498denjw4v02"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/observations/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"observations",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "o46pn2s6zh77t7bczwo5tz5h"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "PROMOTIONS",
			"item": [
				{
					"name": "List",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/promotions?populate=*",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"promotions"
							],
							"query": [
								{
									"key": "populate",
									"value": "*"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"title\": \"Promo octubre\",\n    \"discount\": 10,\n    \"promotionType\": \"one_time\",\n    \"isActive\": true,\n    \"start\": \"2025-10-01\",\n    \"end\": \"2025-10-31\"\n  }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/promotions",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"promotions"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get By documentID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/promotions/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"promotions",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "mi3dzosd90t7oda0lmtszz4p"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"title\": \"Promo octubre - Actualizada\",\n    \"discount\": 15,\n    \"promotionType\": \"one_time\", // one_time | monthly\n    \"isActive\": false,\n    \"start\": \"2025-10-01\",\n    \"end\": \"2025-11-15\",\n    \"description\": \"Promoción extendida hasta noviembre\"\n  }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/promotions/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"promotions",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "mi3dzosd90t7oda0lmtszz4p"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/promotions/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"promotions",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "mi3dzosd90t7oda0lmtszz4p"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "SERVICES",
			"item": [
				{
					"name": "List",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/services?populate=*",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"services"
							],
							"query": [
								{
									"key": "populate",
									"value": "*"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"title\": \"Servicio escolar\",\n    \"amount\": 10,\n    \"serviceType\": \"school_service\", // student_service | employee_service | school_service | other\n    \"serviceStatus\": \"active\"\n  }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/services",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"services"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get By documentID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/services/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"services",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "{{serviceId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"data\": {\n        \"title\": \"Servicio de empleado\",\n        \"serviceType\": \"employee_service\" // student_service | employee_service | school_service | other\n    }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/services/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"services",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "d1o36rsgqxl27h0oat4qoz1b"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/services/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"services",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "d1o36rsgqxl27h0oat4qoz1b"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "SCHOOL PERIODS",
			"item": [
				{
					"name": "List",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/school-periods?populate=*",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"school-periods"
							],
							"query": [
								{
									"key": "populate",
									"value": "*"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"data\": {\n        \"title\": \"Curso 2026\",\n        \"period\": [\n            {\n                \"year\": \"2026\",\n                \"start\": \"2026-01-01\",\n                \"end\": \"2026-06-30\"\n            }\n        ]\n    }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/school-periods",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"school-periods"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get By documentID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/school-periods/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"school-periods",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "w85yde8vq32ncrlbnnf03ylm"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"data\": {\n        \"title\": \"Curso 2025 - Actualizado\",\n        \"period\": [\n            {\n                \"year\": \"2025\",\n                \"start\": \"2025-01-01\",\n                \"end\": \"2025-12-31\"\n            }\n        ]\n    }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/school-periods/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"school-periods",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "w85yde8vq32ncrlbnnf03ylm"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/school-periods/:documentId",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"school-periods",
								":documentId"
							],
							"variable": [
								{
									"key": "documentId",
									"value": "{{schoolPeriodId}}"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "HISTORIES",
			"item": [
				{
					"name": "List",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/histories?sort[0]=timestamp:desc&pagination[page]=1&pagination[pageSize]=10&populate=*",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"histories"
							],
							"query": [
								{
									"key": "sort[0]",
									"value": "timestamp:desc",
									"description": "Order by timestamp desc"
								},
								{
									"key": "pagination[page]",
									"value": "1",
									"description": "Page number"
								},
								{
									"key": "pagination[pageSize]",
									"value": "10",
									"description": "Items per page (max 100)"
								},
								{
									"key": "populate",
									"value": "*",
									"description": "Populate relations (if any)"
								},
								{
									"key": "filters[level][$eq]",
									"value": "",
									"description": "Filter by level (INFO, WARN, ERROR, DEBUG)",
									"disabled": true
								},
								{
									"key": "filters[event_type][$containsi]",
									"value": "",
									"description": "Filter by event type (contains, case-insensitive)",
									"disabled": true
								},
								{
									"key": "filters[module][$containsi]",
									"value": "",
									"description": "Filter by module (contains, case-insensitive)",
									"disabled": true
								},
								{
									"key": "filters[trace_id][$eq]",
									"value": "",
									"description": "Filter by trace_id (exact)",
									"disabled": true
								},
								{
									"key": "filters[status_code][$eq]",
									"value": "",
									"description": "Filter by status_code (exact)",
									"disabled": true
								},
								{
									"key": "filters[timestamp][$gte]",
									"value": "",
									"description": "Filter timestamp greater or equal (YYYY-MM-DD)",
									"disabled": true
								},
								{
									"key": "filters[timestamp][$lte]",
									"value": "",
									"description": "Filter timestamp less or equal (YYYY-MM-DD)",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get By documentID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/histories/:documentID?populate=*",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"histories",
								":documentID"
							],
							"query": [
								{
									"key": "populate",
									"value": "*"
								}
							],
							"variable": [
								{
									"key": "documentID",
									"value": "xxxxxxxxxxxxxxxxxxxxxxxx"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"title\": \"User login\",\n    \"message\": \"User logged in successfully.\",\n    \"trace_id\": \"trace-123\",\n    \"timestamp\": \"2025-10-09T00:00:00.000Z\",\n    \"module\": \"auth\",\n    \"event_type\": \"login\",\n    \"level\": \"INFO\",\n    \"status_code\": \"200\",\n    \"duration_ms\": \"35\",\n    \"user_id\": \"user-1\",\n    \"payload\": { \"ip\": \"127.0.0.1\" }\n  }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/histories",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"histories"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update by documentID",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": { \"message\": \"Updated message\" }\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/histories/:documentID",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"histories",
								":documentID"
							],
							"variable": [
								{
									"key": "documentID",
									"value": "xxxxxxxxxxxxxxxxxxxxxxxx"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete by documentID",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/histories/:documentID",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"histories",
								":documentID"
							],
							"variable": [
								{
									"key": "documentID",
									"value": "xxxxxxxxxxxxxxxxxxxxxxxx"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "FISCAL REPORT",
			"item": [
				{
					"name": "233 History",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/reports/233/history?year=2025&page=1&pageSize=10",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"reports",
								"233",
								"history"
							],
							"query": [
								{
									"key": "year",
									"value": "2025",
									"description": "Filtrar por año fiscal"
								},
								{
									"key": "quarter",
									"value": "Q1",
									"description": "Filtrar por trimestre (Q1, Q2, Q3, Q4)",
									"disabled": true
								},
								{
									"key": "concept",
									"value": "all",
									"description": "Filtrar por concepto (all, matricula, comedor)",
									"disabled": true
								},
								{
									"key": "format",
									"value": "csv",
									"description": "Filtrar por formato (csv, xlsx, pdf)",
									"disabled": true
								},
								{
									"key": "centerCode",
									"value": "12345",
									"description": "Filtrar por código del centro",
									"disabled": true
								},
								{
									"key": "startDate",
									"value": "2025-01-01",
									"description": "Fecha de inicio (YYYY-MM-DD)",
									"disabled": true
								},
								{
									"key": "endDate",
									"value": "2025-12-31",
									"description": "Fecha de fin (YYYY-MM-DD)",
									"disabled": true
								},
								{
									"key": "page",
									"value": "1",
									"description": "Número de página"
								},
								{
									"key": "pageSize",
									"value": "10",
									"description": "Registros por página"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "233 Preview",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/reports/233/preview?concept=all&studentId=1&page=1&pageSize=25&year=2025&studentName=Sá",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"reports",
								"233",
								"preview"
							],
							"query": [
								{
									"key": "concept",
									"value": "all",
									"description": "Filtro por concepto de facturación. Valores: 'all', 'tuition', 'transport', 'food', 'materials', 'activities'"
								},
								{
									"key": "studentId",
									"value": "1",
									"description": "ID específico del estudiante para filtrar"
								},
								{
									"key": "page",
									"value": "1",
									"description": "Número de página para paginación (por defecto: 1)"
								},
								{
									"key": "pageSize",
									"value": "25",
									"description": "Cantidad de registros por página (por defecto: 25)"
								},
								{
									"key": "year",
									"value": "2025",
									"description": "Año fiscal del reporte (requerido)"
								},
								{
									"key": "quarter",
									"value": "Q1",
									"description": "Trimestre fiscal: Q1, Q2, Q3, Q4 (opcional)",
									"disabled": true
								},
								{
									"key": "studentName",
									"value": "Sá",
									"description": "Filtro por nombre o apellido del estudiante (búsqueda case-insensitive)"
								},
								{
									"key": "centerCode",
									"value": "",
									"description": "Código del centro educativo (opcional)",
									"disabled": true
								},
								{
									"key": "includeMonths",
									"value": "true",
									"description": "Incluir desglose mensual en el reporte (true/false)",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "233 Generate XLSX",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"year\": 2025,\n  \"quarter\": \"Q1\",\n  \"concept\": \"all\",\n  \"format\": \"xlsx\",\n  \"centerCode\": \"12345\"\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/reports/233/generate",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"reports",
								"233",
								"generate"
							]
						}
					},
					"response": []
				},
				{
					"name": "233 Generate CSV",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"year\": 2025,\n  \"quarter\": \"Q1\",\n  \"concept\": \"all\",\n  \"format\": \"csv\",\n  \"centerCode\": \"12345\"\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/reports/233/generate",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"reports",
								"233",
								"generate"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "PDF REPORTS",
			"item": [
				{
					"name": "Invoice PDF (inline)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/pdf"
							}
						],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/reports/pdf/invoice/:id?store=false",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"reports",
								"pdf",
								"invoice",
								":id"
							],
							"query": [
								{
									"key": "store",
									"value": "false",
									"description": "Si true, sube el PDF a Cloudinary y devuelve URL JSON. Por defecto false: stream inline"
								}
							],
							"variable": [
								{
									"key": "id",
									"value": "1158"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Payroll PDF (inline)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/pdf"
							}
						],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/reports/pdf/payroll/:id?store=false",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"reports",
								"pdf",
								"payroll",
								":id"
							],
							"query": [
								{
									"key": "store",
									"value": "false",
									"description": "Si true, sube el PDF a Cloudinary y devuelve URL JSON. Por defecto false: stream inline"
								}
							],
							"variable": [
								{
									"key": "id",
									"value": "1160"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Service Invoice PDF (inline)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/pdf"
							}
						],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/reports/pdf/service/:id?store=false",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"reports",
								"pdf",
								"service",
								":id"
							],
							"query": [
								{
									"key": "store",
									"value": "false",
									"description": "Si true, sube el PDF a Cloudinary y devuelve URL JSON. Por defecto false: stream inline"
								}
							],
							"variable": [
								{
									"key": "id",
									"value": "1199"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "General Invoice PDF (inline)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/pdf"
							}
						],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/reports/pdf/general/:id?store=false",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"reports",
								"pdf",
								"general",
								":id"
							],
							"query": [
								{
									"key": "store",
									"value": "false",
									"description": "Si true, sube el PDF a Cloudinary y devuelve URL JSON. Por defecto false: stream inline"
								}
							],
							"variable": [
								{
									"key": "id",
									"value": "1197"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "BACKUP",
			"item": [
				{
					"name": "List Backups",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/backups?sort[0]=createdAt:desc&pagination[page]=1&pagination[pageSize]=10",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"backups"
							],
							"query": [
								{
									"key": "sort[0]",
									"value": "createdAt:desc",
									"description": "Ordenar por fecha de creación descendente"
								},
								{
									"key": "pagination[page]",
									"value": "1",
									"description": "Número de página para paginación"
								},
								{
									"key": "pagination[pageSize]",
									"value": "10",
									"description": "Número de elementos por página"
								},
								{
									"key": "filters[statusBackup][$eq]",
									"value": "",
									"description": "Filtrar por estado (pending, completed, failed, corrupted)",
									"disabled": true
								},
								{
									"key": "filters[backupType][$eq]",
									"value": "",
									"description": "Filtrar por tipo (manual, scheduled, other)",
									"disabled": true
								},
								{
									"key": "filters[filename][$contains]",
									"value": "",
									"description": "Buscar por nombre de archivo",
									"disabled": true
								},
								{
									"key": "filters[createdAt][$gte]",
									"value": "",
									"description": "Filtrar por fecha de creación mayor o igual (YYYY-MM-DD)",
									"disabled": true
								},
								{
									"key": "filters[createdAt][$lte]",
									"value": "",
									"description": "Filtrar por fecha de creación menor o igual (YYYY-MM-DD)",
									"disabled": true
								},
								{
									"key": "filters[originalSize][$gte]",
									"value": "",
									"description": "Filtrar por tamaño original mayor o igual (bytes)",
									"disabled": true
								}
							]
						},
						"description": "**Lista todos los backups disponibles**\n\n**Filtros disponibles:**\n- `filters[statusBackup][$eq]`: Estados posibles: `pending`, `completed`, `failed`, `corrupted`\n- `filters[backupType][$eq]`: Tipos: `manual`, `scheduled`, `other`\n- `filters[filename][$contains]`: Buscar por nombre de archivo\n- `filters[createdAt][$gte]` / `[$lte]`: Filtrar por rango de fechas (formato: YYYY-MM-DD)\n- `filters[originalSize][$gte]`: Filtrar por tamaño mínimo en bytes\n\n**Paginación:**\n- `pagination[page]`: Número de página (default: 1)\n- `pagination[pageSize]`: Elementos por página (default: 25, max: 100)\n\n**Ordenamiento:**\n- `sort[0]`: Campo:dirección (ej: `createdAt:desc`, `filename:asc`)"
					},
					"response": []
				},
				{
					"name": "Create Backup",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/backups",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"backups"
							]
						},
						"description": "Crea un backup SIMPLE de todas las tablas y lo guarda en la carpeta /backups. No requiere body. Opcional: puedes enviar { \"description\": \"texto\" } para documentar el backup.\n\nComportamiento:\n- Si la BD es sqlite: copia el archivo .tmp/data.db a /backups/backup_YYYYMMDD_hhmmss.sqlite\n- Si la BD no es sqlite: exporta todo el contenido como JSON a /backups/backup_YYYYMMDD_hhmmss.json\n\nRespuesta:\n- Devuelve el registro creado en la colección backups con filename, filePath, tamaño y checksum."
					},
					"response": []
				},
				{
					"name": "Restore Backup",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"createSafetyBackup\": false\n}"
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/backups/:Id/restore",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"backups",
								":Id",
								"restore"
							],
							"variable": [
								{
									"key": "Id",
									"value": "14"
								}
							]
						},
						"description": "Restaura un backup específico.\n\n**Funcionalidad por tipo de base de datos:**\n- **SQLite**: Copia el archivo .sqlite a la ruta de la BD (requiere reinicio del servidor)\n- **PostgreSQL/MySQL**: Restaura desde archivo .json con transacciones seguras y rollback automático\n\n**Características de seguridad:**\n- Backup de seguridad automático antes de restaurar (opcional)\n- Transacciones con rollback en caso de error\n- Manejo de foreign keys y constraints\n- Validación de integridad de datos\n\n**Parámetros:**\n- `documentId`: ID del backup a restaurar\n- Body opcional: `{ \"createSafetyBackup\": true }` para crear backup de seguridad antes de restaurar\n\n**Proceso de restauración JSON:**\n1. Validación del archivo y estructura\n2. Creación de backup de seguridad (si se solicita)\n3. Inicio de transacción\n4. Limpieza de datos existentes\n5. Restauración de datos desde JSON\n6. Commit o rollback según resultado"
					},
					"response": []
				},
				{
					"name": "Restore from Upload",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "files",
									"type": "file",
									"src": []
								},
								{
									"key": "createSafetyBackup",
									"value": "true",
									"type": "text",
									"description": "Crear backup de seguridad antes de restaurar"
								}
							]
						},
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/backups/restore-from-upload",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"backups",
								"restore-from-upload"
							]
						},
						"description": "Sube y restaura un archivo de backup directamente.\n\n**Tipos de archivo soportados:**\n- `.sqlite`: Para bases de datos SQLite\n- `.json`: Para PostgreSQL/MySQL (estructura JSON completa)\n\n**Parámetros form-data:**\n- `files`: Archivo de backup a subir y restaurar\n- `createSafetyBackup`: (opcional) \"true\" para crear backup de seguridad antes de restaurar\n\n**Proceso:**\n1. Validación del archivo subido\n2. Detección automática del tipo (SQLite/JSON)\n3. Creación de backup de seguridad (si se solicita)\n4. Restauración según el tipo de archivo\n5. Limpieza de archivos temporales\n\n**Características de seguridad:**\n- Validación de tipos de archivo\n- Transacciones con rollback automático (JSON)\n- Backup de seguridad antes de restaurar\n- Manejo de errores con limpieza automática\n\n**Respuesta exitosa:**\n- Información del proceso de restauración\n- Detalles del backup de seguridad (si se creó)\n- Estadísticas de restauración"
					},
					"response": []
				},
				{
					"name": "Download Backup",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/octet-stream"
							}
						],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/backups/:Id/download",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"backups",
								":Id",
								"download"
							],
							"variable": [
								{
									"key": "Id",
									"value": "12"
								}
							]
						},
						"description": "Descarga el archivo de backup desde el servidor.\n\n**Headers de respuesta:**\n- `Content-Type`: `application/json` para archivos .json (PostgreSQL/MySQL), `application/octet-stream` para .sqlite\n- `Content-Disposition`: attachment; filename=\"backup_YYYYMMDD_HHMMSS.ext\" (nombre real del archivo)\n- `Access-Control-Expose-Headers`: Content-Disposition (permite al frontend acceder al filename)\n\n**Notas:**\n- Requiere autenticación (Bearer token).\n- Para SQLite: archivo .sqlite\n- Para PostgreSQL/MySQL: archivo .json con estructura completa de datos\n- El frontend puede extraer el filename correcto del header Content-Disposition\n\n**Ejemplo:** GET {{STRAPI_URL_LOCAL}}/api/backups/:documentId/download"
					},
					"response": []
				},
				{
					"name": "Export Backups XLSX",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
							}
						],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/backups/export/xlsx",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"backups",
								"export",
								"xlsx"
							]
						},
						"description": "Genera y descarga un Excel (.xlsx) con un resumen por tabla y hojas con hasta 200 registros por tipo, mostrando campos básicos (id, createdAt, updatedAt y algunos campos de texto).\n\nNotas:\n- Requiere autenticación (Bearer token).\n- Pensado para ofrecer al director una noción general del contenido sin exponer datos sensibles.\n\nEjemplo: GET {{STRAPI_URL_LOCAL}}/api/backups/export/xlsx"
					},
					"response": []
				},
				{
					"name": "Delete Backup",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/backups/:Id",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"backups",
								":Id"
							],
							"variable": [
								{
									"key": "Id",
									"value": "16"
								}
							]
						},
						"description": "**Elimina un backup específico**\n\n**Parámetros:**\n- `documentId`: ID del backup a eliminar\n\n**⚠️ PRECAUCIÓN:**\nEsta operación es irreversible. El backup y su archivo asociado serán eliminados permanentemente.\n\n**Proceso de eliminación:**\n1. Verifica que el backup existe\n2. Elimina el archivo físico del sistema\n3. Elimina el registro de la base de datos\n\n**Estados que permiten eliminación:**\n- `completed`: Backup completado\n- `failed`: Backup fallido\n- `corrupted`: Backup corrupto\n\n**Respuesta exitosa:**\n- Status 200: Backup eliminado correctamente\n- Incluye información del backup eliminado"
					},
					"response": []
				},
				{
					"name": "Sync Backups (Filesystem → DB)",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{STRAPI_URL_LOCAL}}/api/backups/sync",
							"host": [
								"{{STRAPI_URL_LOCAL}}"
							],
							"path": [
								"api",
								"backups",
								"sync"
							]
						},
						"description": "Sincroniza la tabla de backups con los archivos presentes en la carpeta /backups.\n\nAcciones:\n- Crea entradas para archivos que no tienen registro.\n- Marca como `corrupted` los registros cuyo archivo físico falte.\n- Actualiza tamaño/checksum si faltan en el registro.\n\nRespuesta: resumen con contadores (created, updated, corruptedMarked, existingSkips, totalFiles)."
					},
					"response": []
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{token}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "STRAPI_URL_LOCAL",
			"value": "http://localhost:1337"
		},
		{
			"key": "token",
			"value": ""
		}
	]
}