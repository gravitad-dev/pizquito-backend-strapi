{
  "info": {
    "_postman_id": "f96a5231-b7e0-4010-b335-786d17e17002",
    "name": "STRAPI-PIZQUITO-API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "43592215"
  },
  "item": [
    {
      "name": "AUTH",
      "item": [
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"identifier\": \"benser22@hotmail.com\",\n  \"password\": \"Password1\"\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/auth/local",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "auth", "local"]
            }
          },
          "response": []
        },
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"test\",\n    \"email\": \"test@test.com\",\n    \"password\": \"Password1\"\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/auth/local/register",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "auth", "local", "register"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "USERS",
      "item": [
        {
          "name": "Get Me",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/users/me",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "users", "me"]
            }
          },
          "response": []
        },
        {
          "name": "Get All",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/users?sort[0]=username:asc&pagination[page]=1&pagination[pageSize]=10&populate=*",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "users"],
              "query": [
                {
                  "key": "sort[0]",
                  "value": "username:asc",
                  "description": "Ordenar por nombre de usuario ascendente (opciones: username:asc, username:desc, email:asc, email:desc, createdAt:asc, createdAt:desc)"
                },
                {
                  "key": "pagination[page]",
                  "value": "1",
                  "description": "Número de página para paginación"
                },
                {
                  "key": "pagination[pageSize]",
                  "value": "10",
                  "description": "Número de elementos por página (máximo 100)"
                },
                {
                  "key": "populate",
                  "value": "*",
                  "description": "Poblar todas las relaciones"
                },
                {
                  "key": "filters[username][$containsi]",
                  "value": "",
                  "description": "Filtrar por nombre de usuario (contiene, sin distinción de mayúsculas)",
                  "disabled": true
                },
                {
                  "key": "filters[email][$containsi]",
                  "value": "",
                  "description": "Filtrar por email (contiene, sin distinción de mayúsculas)",
                  "disabled": true
                },
                {
                  "key": "filters[confirmed][$eq]",
                  "value": "",
                  "description": "Filtrar por estado de confirmación (true/false)",
                  "disabled": true
                },
                {
                  "key": "filters[blocked][$eq]",
                  "value": "",
                  "description": "Filtrar por estado bloqueado (true/false)",
                  "disabled": true
                },
                {
                  "key": "filters[createdAt][$gte]",
                  "value": "",
                  "description": "Filtrar por fecha de creación mayor o igual (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "filters[createdAt][$lte]",
                  "value": "",
                  "description": "Filtrar por fecha de creación menor o igual (YYYY-MM-DD)",
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get By ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/users/1",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "users", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Create User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"createdByAdmin\",\n    \"email\": \"created.admin@example.com\",\n    \"password\": \"Password1\",\n    \"role\": 3, // 1 (Authenticated), 2 (Public), 3 (admin-api)\n    \"confirmed\": true,\n    \"blocked\": false\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/users",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "users"]
            }
          },
          "response": []
        },
        {
          "name": "Update User",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"benser\"\n    //   \"blocked\": false\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/users/1",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "users", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Delete User",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/users/8",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "users", "8"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "BILLING CONFIGURATION (CRON DAY)",
      "item": [
        {
          "name": "Get Billing Configuration",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/cron-day",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "cron-day"]
            }
          },
          "response": []
        },
        {
          "name": "Update Billing Configuration",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"data\": { \n        \"cron_day\": 25, // Día del mes en que se ejecutará el CRON (1-31)\n        \"cron_hour\": 5, // Hora del día para la ejecución (0-23, formato 24h)\n        \"cron_minute\": 0, // Minuto de la hora para la ejecución (0-59)\n        \"test_mode\": true, // Modo de prueba desactivado (false = producción)\n        \"test_interval_minutes\": 1, // Intervalo en minutos para modo test (solo aplica si test_mode = true)\n        \"timezone\": \"Europe/Madrid\", // Zona horaria para calcular las fechas de ejecución\n        \"is_active\": false, // CRON activado (true = se ejecutará automáticamente)\n        \"execution_notes\": \"Configuración actualizada manualmente\" // Notas sobre la última configuración o ejecución\n    }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/cron-day",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "cron-day"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "ROLES",
      "item": [
        {
          "name": "Get All Roles",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/users-permissions/roles",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "users-permissions", "roles"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "FILES",
      "item": [
        {
          "name": "List Files",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/upload/files",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "upload", "files"]
            }
          },
          "response": []
        },
        {
          "name": "Get File By ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/upload/files/4",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "upload", "files", "4"]
            }
          },
          "response": []
        },
        {
          "name": "Upload Files",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "files",
                  "type": "file",
                  "src": [
                    "/C:/Users/Benja/Pictures/paisaje2.jpg",
                    "/C:/Users/Benja/Pictures/paisaje3.jpg"
                  ]
                }
              ]
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/upload",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "upload"]
            }
          },
          "response": []
        },
        {
          "name": "Delete File",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/upload/files/18",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "upload", "files", "18"]
            }
          },
          "response": []
        },
        {
          "name": "Delete All Files (Bulk)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/upload/files",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "upload", "files"]
            },
            "description": "Borra TODOS los archivos registrados (base de datos y provider). Usa con extremo cuidado. Requiere Admin API Token."
          },
          "response": []
        },
        {
          "name": "Upload Files (Scoped)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "files",
                  "description": "Archivo(s) a subir (puede ser múltiple).",
                  "type": "file",
                  "src": "/C:/Users/Benja/Documents/documento de prueba.pdf"
                },
                {
                  "key": "scope",
                  "value": "guardian",
                  "description": "Enum: user, student, guardian, employee, company, classroom, enrollment, history, observation, promotion, school-period, service, invoice, report.",
                  "type": "text"
                },
                {
                  "key": "docId",
                  "value": "x9396ccntibi2b3lfc8o7nc8",
                  "description": "Identificador para carpeta por documento (p.ej. DNI/ID interno). Si no se envía y hay refId, se usa refId.",
                  "type": "text"
                },
                {
                  "key": "ref",
                  "value": "api::student.student",
                  "description": "Opcional: content-type para asociar media (comportamiento nativo de Strapi).",
                  "type": "text",
                  "disabled": true
                },
                {
                  "key": "refId",
                  "value": "11",
                  "description": "Opcional: id de la entrada para asociar media. También puede servir como docId si no se envía docId.",
                  "type": "text",
                  "disabled": true
                }
              ]
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/upload/files/scoped",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "upload", "files", "scoped"]
            },
            "description": "Sube archivos organizándolos por carpeta según scope y docId. Reglas: invoice → invoices/YYYY/MM; report(s) → reports/YYYY/MM/DD; otros → {scope}/{docId} o {scope}/misc/YYYY/MM/DD si no hay docId."
          },
          "response": []
        }
      ]
    },
    {
      "name": "GLOBAL (singleType)",
      "item": [
        {
          "name": "Get Global",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/global",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "global"]
            }
          },
          "response": []
        },
        {
          "name": "Update Global",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": {\n    \"siteName\": \"Pizquito-Api\",\n    \"siteDescription\": \"Backend de Pizquito\",\n    \"defaultSeo\": {\n      \"metaTitle\": \"Pizquito-Api\",\n      \"metaDescription\": \"Descripción SEO\"\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/global",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "global"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Global",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/global",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "global"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "COMPANY (singleType)",
      "item": [
        {
          "name": "Get Company",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/company",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "company"]
            }
          },
          "response": []
        },
        {
          "name": "Update Company",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": {\n    \"name\": \"Pizquito\",\n    \"code\": \"PZQ123\",\n    \"address\": \"Calle Principal 123, Madrid\",\n    \"NIF\": \"B12345678\"\n  }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/company",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "company"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Company",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/company",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "company"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "GUARDIANS",
      "item": [
        {
          "name": "List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/guardians?sort[0]=name:asc&pagination[page]=1&pagination[pageSize]=10&populate=*",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "guardians"],
              "query": [
                {
                  "key": "sort[0]",
                  "value": "name:asc",
                  "description": "Ordenar por nombre ascendente (opciones: name:asc, name:desc, lastname:asc, lastname:desc, createdAt:asc, createdAt:desc)"
                },
                {
                  "key": "pagination[page]",
                  "value": "1",
                  "description": "Número de página para paginación"
                },
                {
                  "key": "pagination[pageSize]",
                  "value": "10",
                  "description": "Número de elementos por página (máximo 100)"
                },
                {
                  "key": "populate",
                  "value": "*",
                  "description": "Poblar todas las relaciones"
                },
                {
                  "key": "filters[name][$containsi]",
                  "value": "",
                  "description": "Filtrar por nombre (contiene, sin distinción de mayúsculas)",
                  "disabled": true
                },
                {
                  "key": "filters[lastname][$containsi]",
                  "value": "",
                  "description": "Filtrar por apellido (contiene, sin distinción de mayúsculas)",
                  "disabled": true
                },
                {
                  "key": "filters[DNI][$eq]",
                  "value": "",
                  "description": "Filtrar por DNI exacto",
                  "disabled": true
                },
                {
                  "key": "filters[email][$containsi]",
                  "value": "",
                  "description": "Filtrar por email (contiene, sin distinción de mayúsculas)",
                  "disabled": true
                },
                {
                  "key": "filters[phone][$containsi]",
                  "value": "",
                  "description": "Filtrar por teléfono (contiene, sin distinción de mayúsculas)",
                  "disabled": true
                },
                {
                  "key": "filters[createdAt][$gte]",
                  "value": "",
                  "description": "Filtrar por fecha de creación mayor o igual (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "filters[createdAt][$lte]",
                  "value": "",
                  "description": "Filtrar por fecha de creación menor o igual (YYYY-MM-DD)",
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"data\": {\n        \"name\": \"Carlos\",\n        \"lastname\": \"López García\",\n        \"DNI\": \"Z98765432\",\n        \"NIF\": \"Y7654321A\"\n    }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/guardians",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "guardians"]
            }
          },
          "response": []
        },
        {
          "name": "Update",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": {\n    \"name\": \"Carlos\",\n    \"lastname\": \"López García\",\n    \"DNI\": \"Z98765432\",\n    \"NIF\": \"Y7654321A\"\n  }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/guardians/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "guardians", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "l3a06sh23d069zdl27yx70zu"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/guardians/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "guardians", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "l3a06sh23d069zdl27yx70zu"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "STUDENTS",
      "item": [
        {
          "name": "List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/students?sort[0]=name:asc&pagination[page]=1&pagination[pageSize]=10&populate=*",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "students"],
              "query": [
                {
                  "key": "sort[0]",
                  "value": "name:asc",
                  "description": "Ordenar por nombre ascendente (opciones: name:asc, name:desc, lastname:asc, lastname:desc, createdAt:asc, createdAt:desc)"
                },
                {
                  "key": "pagination[page]",
                  "value": "1",
                  "description": "Número de página para paginación"
                },
                {
                  "key": "pagination[pageSize]",
                  "value": "10",
                  "description": "Número de elementos por página (máximo 100)"
                },
                {
                  "key": "populate",
                  "value": "*",
                  "description": "Poblar todas las relaciones"
                },
                {
                  "key": "filters[name][$containsi]",
                  "value": "",
                  "description": "Filtrar por nombre (contiene, sin distinción de mayúsculas)",
                  "disabled": true
                },
                {
                  "key": "filters[lastname][$containsi]",
                  "value": "",
                  "description": "Filtrar por apellido (contiene, sin distinción de mayúsculas)",
                  "disabled": true
                },
                {
                  "key": "filters[DNI][$eq]",
                  "value": "",
                  "description": "Filtrar por DNI exacto",
                  "disabled": true
                },
                {
                  "key": "filters[createdAt][$gte]",
                  "value": "",
                  "description": "Filtrar por fecha de creación mayor o igual (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "filters[createdAt][$lte]",
                  "value": "",
                  "description": "Filtrar por fecha de creación menor o igual (YYYY-MM-DD)",
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get By documentID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/students/:documentID?populate=*",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "students", ":documentID"],
              "query": [
                {
                  "key": "populate",
                  "value": "*"
                }
              ],
              "variable": [
                {
                  "key": "documentID",
                  "value": "s8a05115j0dry6gjfewmnkrp"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": {\n    \"name\": \"Juan\",\n    \"lastname\": \"Pérez\",\n    \"DNI\": \"12345678X\"\n  }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/students",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "students"]
            }
          },
          "response": []
        },
        {
          "name": "Update by documentID",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": { \"city\": \"Madrid\" }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/students/:documentID",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "students", ":documentID"],
              "variable": [
                {
                  "key": "documentID",
                  "value": "pnwg3aq26b6u0o2j72nc3y22"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete by documentID",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": { \"city\": \"Madrid\" }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/students/:documentID",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "students", ":documentID"],
              "variable": [
                {
                  "key": "documentID",
                  "value": "s8a05115j0dry6gjfewmnkrp"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "EMPLOYEES",
      "item": [
        {
          "name": "List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/employees?sort[0]=name:desc&pagination[page]=1&pagination[pageSize]=10&populate=*",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "employees"],
              "query": [
                {
                  "key": "sort[0]",
                  "value": "name:desc",
                  "description": "Ordenar por nombre descendente (opciones: name:asc, name:desc, lastname:asc, lastname:desc, createdAt:asc, createdAt:desc)"
                },
                {
                  "key": "pagination[page]",
                  "value": "1",
                  "description": "Número de página para paginación"
                },
                {
                  "key": "pagination[pageSize]",
                  "value": "10",
                  "description": "Número de elementos por página (máximo 100)"
                },
                {
                  "key": "populate",
                  "value": "*",
                  "description": "Poblar todas las relaciones"
                },
                {
                  "key": "filters[name][$containsi]",
                  "value": "",
                  "description": "Filtrar por nombre (contiene, sin distinción de mayúsculas)",
                  "disabled": true
                },
                {
                  "key": "filters[lastname][$containsi]",
                  "value": "",
                  "description": "Filtrar por apellido (contiene, sin distinción de mayúsculas)",
                  "disabled": true
                },
                {
                  "key": "filters[DNI][$eq]",
                  "value": "",
                  "description": "Filtrar por DNI exacto",
                  "disabled": true
                },
                {
                  "key": "filters[NIF][$eq]",
                  "value": "",
                  "description": "Filtrar por NIF exacto",
                  "disabled": true
                },
                {
                  "key": "filters[BIC][$containsi]",
                  "value": "",
                  "description": "Filtrar por BIC (contiene, sin distinción de mayúsculas)",
                  "disabled": true
                },
                {
                  "key": "filters[SWIFT][$containsi]",
                  "value": "",
                  "description": "Filtrar por SWIFT (contiene, sin distinción de mayúsculas)",
                  "disabled": true
                },
                {
                  "key": "filters[createdAt][$gte]",
                  "value": "",
                  "description": "Filtrar por fecha de creación mayor o igual (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "filters[createdAt][$lte]",
                  "value": "",
                  "description": "Filtrar por fecha de creación menor o igual (YYYY-MM-DD)",
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": {\n    \"name\": \"Luis\",\n    \"lastname\": \"Fernández\",\n    \"DNI\": \"E87654321\",\n    \"NIF\": \"Y7654321X\",\n    \"BIC\": \"BICCODE987\",\n    \"SWIFT\": \"SWIFTCODE987\"\n  }\n}\n"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/employees",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "employees"]
            }
          },
          "response": []
        },
        {
          "name": "Get By documentID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/employees/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "employees", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "dxp6wtaw0k7bulz48r1rmulo"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": {\n    // \"name\": \"Ana\",\n    // \"lastname\": \"García Martínez\",\n    // \"DNI\": \"E12345678\",\n    // \"NIF\": \"X1234567Z\",\n    // \"BIC\": \"BICCODE123\",\n    \"SWIFT\": \"SWIFTCODE999\"\n  }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/employees/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "employees", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "r8d1mgtjwbtc524o47dznrlv"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/employees/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "employees", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "r8d1mgtjwbtc524o47dznrlv"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Billing Months (allowedMonths)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/employees/:documentId/billing-months",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "employees", ":documentId", "billing-months"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "q3e4nrqoteozs9iubyl7y5qw"
                }
              ]
            },
            "description": "Devuelve los meses permitidos para facturación del empleado (allowedMonths). Habilitar permiso público 'Employees -> billingMonths' o usar token de autenticación."
          },
          "response": []
        }
      ]
    },
    {
      "name": "REPORTS XLSX",
      "item": [
        {
          "name": "Invoice List XLSX - Employees",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
              }
            ],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/reports/xlsx/invoices/employees/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": [
                "api",
                "reports",
                "xlsx",
                "invoices",
                "employees",
                ":documentId"
              ],
              "query": [
                {
                  "key": "startDate",
                  "value": "2024-01-01",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "2024-12-31",
                  "disabled": true
                },
                {
                  "key": "status",
                  "value": "paid",
                  "disabled": true
                }
              ],
              "variable": [
                {
                  "key": "documentId",
                  "value": "cyvekpz4jqj1olki416u3m4q"
                }
              ]
            },
            "description": "Exportar XLSX con historial de facturas de empleado por id."
          },
          "response": []
        },
        {
          "name": "Invoice List XLSX - Enrollments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
              }
            ],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/reports/xlsx/invoices/enrollments/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": [
                "api",
                "reports",
                "xlsx",
                "invoices",
                "enrollments",
                ":documentId"
              ],
              "query": [
                {
                  "key": "startDate",
                  "value": "2024-01-01",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "2024-12-31",
                  "disabled": true
                },
                {
                  "key": "status",
                  "value": "paid",
                  "disabled": true
                }
              ],
              "variable": [
                {
                  "key": "documentId",
                  "value": "eet0eaobbzs4nqcpnt9jfw97"
                }
              ]
            },
            "description": "Exportar XLSX con historial de matrículas por id."
          },
          "response": []
        },
        {
          "name": "Invoice List XLSX - General",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
              }
            ],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/reports/xlsx/invoices/general",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "reports", "xlsx", "invoices", "general"],
              "query": [
                {
                  "key": "startDate",
                  "value": "2024-01-01",
                  "description": "Fecha de inicio (YYYY-MM-DD) para filtrar por fecha de emisión (inclusive)",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "2024-12-31",
                  "description": "Fecha fin (YYYY-MM-DD) para filtrar por fecha de emisión (inclusive)",
                  "disabled": true
                },
                {
                  "key": "status",
                  "value": "paid",
                  "description": "Estado de recibo: unpaid|inprocess|paid|canceled",
                  "disabled": true
                },
                {
                  "key": "sortBy",
                  "value": "emissionDate",
                  "description": "Campo de orden (por defecto emissionDate)",
                  "disabled": true
                },
                {
                  "key": "sortOrder",
                  "value": "desc",
                  "description": "Dirección de orden: asc|desc (por defecto desc)",
                  "disabled": true
                },
                {
                  "key": "invoiceType",
                  "value": "expense",
                  "description": "Tipo de recibo: charge|payment|income|expense",
                  "disabled": true
                },
                {
                  "key": "registeredBy",
                  "value": "system",
                  "description": "Origen de registro: administration|bank|system",
                  "disabled": true
                }
              ]
            },
            "description": "Exportar XLSX con historial general; soporta filtros por fechas/estado y ordenamiento/otros filtros por query (sortBy, sortOrder, invoiceType, registeredBy)."
          },
          "response": []
        },
        {
          "name": "Invoice List XLSX - Services",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
              }
            ],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/reports/xlsx/invoices/services",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "reports", "xlsx", "invoices", "services"],
              "query": [
                {
                  "key": "startDate",
                  "value": "2024-01-01",
                  "description": "Fecha de inicio (YYYY-MM-DD) para filtrar por fecha de emisión (inclusive)",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "2024-12-31",
                  "description": "Fecha fin (YYYY-MM-DD) para filtrar por fecha de emisión (inclusive)",
                  "disabled": true
                },
                {
                  "key": "status",
                  "value": "paid",
                  "description": "Estado de recibo: unpaid|inprocess|paid|canceled",
                  "disabled": true
                },
                {
                  "key": "sortBy",
                  "value": "emissionDate",
                  "description": "Campo de orden (por defecto emissionDate)",
                  "disabled": true
                },
                {
                  "key": "sortOrder",
                  "value": "desc",
                  "description": "Dirección de orden: asc|desc (por defecto desc)",
                  "disabled": true
                },
                {
                  "key": "invoiceType",
                  "value": "expense",
                  "description": "Tipo de recibo: charge|payment|income|expense",
                  "disabled": true
                },
                {
                  "key": "registeredBy",
                  "value": "system",
                  "description": "Origen de registro: administration|bank|system",
                  "disabled": true
                }
              ]
            },
            "description": "Exportar XLSX con historial de servicios; soporta filtros por fechas/estado y ordenamiento/otros filtros por query (sortBy, sortOrder, invoiceType, registeredBy)."
          },
          "response": []
        }
      ]
    },
    {
      "name": "CLASSROOMS",
      "item": [
        {
          "name": "List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/classrooms?sort[0]=title:asc&pagination[page]=1&pagination[pageSize]=10&populate=*",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "classrooms"],
              "query": [
                {
                  "key": "sort[0]",
                  "value": "title:asc",
                  "description": "Ordenar por título ascendente (opciones: title:asc, title:desc, studentLimit:asc, studentLimit:desc, createdAt:asc, createdAt:desc)"
                },
                {
                  "key": "pagination[page]",
                  "value": "1",
                  "description": "Número de página para paginación"
                },
                {
                  "key": "pagination[pageSize]",
                  "value": "10",
                  "description": "Número de elementos por página (máximo 100)"
                },
                {
                  "key": "populate",
                  "value": "*",
                  "description": "Poblar todas las relaciones"
                },
                {
                  "key": "filters[title][$containsi]",
                  "value": "",
                  "description": "Filtrar por título (contiene, sin distinción de mayúsculas)",
                  "disabled": true
                },
                {
                  "key": "filters[description][$containsi]",
                  "value": "",
                  "description": "Filtrar por descripción (contiene, sin distinción de mayúsculas)",
                  "disabled": true
                },
                {
                  "key": "filters[classroomStatus][$eq]",
                  "value": "",
                  "description": "Filtrar por estado (disponible, ocupado, mantenimiento, etc.)",
                  "disabled": true
                },
                {
                  "key": "filters[studentLimit][$gte]",
                  "value": "",
                  "description": "Filtrar por límite mínimo de estudiantes",
                  "disabled": true
                },
                {
                  "key": "filters[studentLimit][$lte]",
                  "value": "",
                  "description": "Filtrar por límite máximo de estudiantes",
                  "disabled": true
                },
                {
                  "key": "filters[createdAt][$gte]",
                  "value": "",
                  "description": "Filtrar por fecha de creación mayor o igual (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "filters[createdAt][$lte]",
                  "value": "",
                  "description": "Filtrar por fecha de creación menor o igual (YYYY-MM-DD)",
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": {\n    \"title\": \"Aula 1\",\n    \"description\": \"Primaria\",\n    \"studentLimit\": 25,\n    \"classroomStatus\": \"available\"\n  }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/classrooms",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "classrooms"]
            }
          },
          "response": []
        },
        {
          "name": "Get By documentID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/classrooms/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "classrooms", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "sip5l72t9uu33vcr5sm22v6n"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": {\n    \"title\": \"Aula 1 - Renovada\",\n    \"description\": \"Primaria - Equipada con tecnología\",\n    \"studentLimit\": 30,\n    \"classroomStatus\": \"available\"\n  }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/classrooms/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "classrooms", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "b198h5h3elg3nunl5h74bba8"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/classrooms/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "classrooms", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "b198h5h3elg3nunl5h74bba8"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "ENROLLMENTS",
      "item": [
        {
          "name": "List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/enrollments?sort[0]=title:asc&pagination[page]=11&pagination[pageSize]=10&populate=*",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "enrollments"],
              "query": [
                {
                  "key": "sort[0]",
                  "value": "title:asc",
                  "description": "Ordenar por título ascendente (opciones: title:asc, title:desc, createdAt:asc, createdAt:desc)"
                },
                {
                  "key": "pagination[page]",
                  "value": "11",
                  "description": "Número de página para paginación"
                },
                {
                  "key": "pagination[pageSize]",
                  "value": "10",
                  "description": "Número de elementos por página (máximo 100)"
                },
                {
                  "key": "populate",
                  "value": "*",
                  "description": "Poblar todas las relaciones"
                },
                {
                  "key": "filters[title][$containsi]",
                  "value": "13",
                  "description": "Filtrar por título (contiene, sin distinción de mayúsculas)",
                  "disabled": true
                },
                {
                  "key": "filters[description][$containsi]",
                  "value": "",
                  "description": "Filtrar por descripción (contiene, sin distinción de mayúsculas)",
                  "disabled": true
                },
                {
                  "key": "filters[isActive][$eq]",
                  "value": "",
                  "description": "Filtrar por estado activo (true/false)",
                  "disabled": true
                },
                {
                  "key": "filters[createdAt][$gte]",
                  "value": "",
                  "description": "Filtrar por fecha de creación mayor o igual (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "filters[createdAt][$lte]",
                  "value": "",
                  "description": "Filtrar por fecha de creación menor o igual (YYYY-MM-DD)",
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": {\n    \"title\": \"Matrícula 2025\",\n    \"description\": \"Inicial\",\n    \"isActive\": true\n  }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/enrollments",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "enrollments"]
            }
          },
          "response": []
        },
        {
          "name": "Get By documentID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/enrollments/:documentId?populate=*",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "enrollments", ":documentId"],
              "query": [
                {
                  "key": "populate",
                  "value": "*"
                }
              ],
              "variable": [
                {
                  "key": "documentId",
                  "value": "n3qf4i0xkxn11o7w27mmx4kg"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": {\n    \"title\": \"Matrícula 2025 - Actualizada\",\n    \"description\": \"Inicial - Proceso completado\",\n    \"isActive\": false\n  }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/enrollments/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "enrollments", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "bl0afbsz535fuf9z3jbpljze"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/enrollments/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "enrollments", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "wrlyd73yd3nw3q9zjl1pt5gt"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Billing Months (allowedMonths)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/enrollments/:documentId/billing-months",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "enrollments", ":documentId", "billing-months"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "xxxxxxxxxxxxxxxxxxxxxxxx"
                }
              ]
            },
            "description": "Devuelve los meses permitidos para facturación de la matrícula (allowedMonths). Habilitar permiso público 'Enrollments -> billingMonths' o usar token de autenticación."
          },
          "response": []
        }
      ]
    },
    {
      "name": "INVOICES",
      "item": [
        {
          "name": "List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/invoices",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "invoices"],
              "query": [
                {
                  "key": "filters[invoiceCategory][$eq]",
                  "value": "invoice_service",
                  "description": "Filtrar por categoría (invoice_enrollment, invoice_service, invoice_employ, invoice_general)",
                  "disabled": true
                },
                {
                  "key": "sort[0]",
                  "value": "title:asc",
                  "description": "Ordenar por título ascendente (opciones: title:asc, title:desc, total:asc, total:desc, emissionDate:asc, emissionDate:desc, expirationDate:asc, expirationDate:desc, createdAt:asc, createdAt:desc)",
                  "disabled": true
                },
                {
                  "key": "pagination[page]",
                  "value": "1",
                  "description": "Número de página para paginación",
                  "disabled": true
                },
                {
                  "key": "pagination[pageSize]",
                  "value": "10",
                  "description": "Número de elementos por página (máximo 100)",
                  "disabled": true
                },
                {
                  "key": "populate",
                  "value": "*",
                  "description": "Poblar todas las relaciones",
                  "disabled": true
                },
                {
                  "key": "filters[title][$containsi]",
                  "value": "",
                  "description": "Filtrar por título (contiene, sin distinción de mayúsculas)",
                  "disabled": true
                },
                {
                  "key": "filters[invoiceStatus][$eq]",
                  "value": "",
                  "description": "Filtrar por estado de recibo (unpaid, inprocess, paid, canceled)",
                  "disabled": true
                },
                {
                  "key": "filters[invoiceType][$eq]",
                  "value": "",
                  "description": "Filtrar por tipo de recibo (charge, payment, income, expense)",
                  "disabled": true
                },
                {
                  "key": "filters[registeredBy][$eq]",
                  "value": "",
                  "description": "Filtrar por registrado por (administration, bank, system)",
                  "disabled": true
                },
                {
                  "key": "filters[total][$gte]",
                  "value": "",
                  "description": "Filtrar por total mayor o igual",
                  "disabled": true
                },
                {
                  "key": "filters[total][$lte]",
                  "value": "",
                  "description": "Filtrar por total menor o igual",
                  "disabled": true
                },
                {
                  "key": "filters[emissionDate][$gte]",
                  "value": "",
                  "description": "Filtrar por fecha de emisión mayor o igual (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "filters[emissionDate][$lte]",
                  "value": "",
                  "description": "Filtrar por fecha de emisión menor o igual (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "filters[expirationDate][$gte]",
                  "value": "",
                  "description": "Filtrar por fecha de vencimiento mayor o igual (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "filters[expirationDate][$lte]",
                  "value": "",
                  "description": "Filtrar por fecha de vencimiento menor o igual (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "filters[createdAt][$gte]",
                  "value": "",
                  "description": "Filtrar por fecha de creación mayor o igual (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "filters[createdAt][$lte]",
                  "value": "",
                  "description": "Filtrar por fecha de creación menor o igual (YYYY-MM-DD)",
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"data\": {\n        \"title\": \"Prueba Nómina snapshot VFinal\",\n        \"invoiceCategory\": \"invoice_employ\",\n        \"invoiceStatus\": \"unpaid\",\n        \"invoiceType\": \"charge\",\n        \"emissionDate\": \"2025-11-07T00:00:00.000Z\",\n        \"amounts\": [\n            {\n                \"amount\": 502.7008,\n                \"concept\": \"Término: Contrato 11\",\n                \"description\": \"Condiciones laborales (31.36h × 16.03€)\"\n            },\n            {\n                \"amount\": 13.63,\n                \"concept\": \"Monto adicional: Plus transporte\",\n                \"description\": \"Monto adicional del empleado\"\n            },\n            {\n                \"amount\": 6.01,\n                \"concept\": \"Monto adicional: Bonus rendimiento\",\n                \"description\": \"Monto adicional del empleado\"\n            }\n        ],\n        \"employee\": \"dxp6wtaw0k7bulz48r1rmulo\"\n    }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/invoices",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "invoices"]
            }
          },
          "response": []
        },
        {
          "name": "Get By documentID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/invoices/:documentId?populate=*",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "invoices", ":documentId"],
              "query": [
                {
                  "key": "populate",
                  "value": "*"
                }
              ],
              "variable": [
                {
                  "key": "documentId",
                  "value": "x210u37jtuod1m0v9xkevrzq"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": {\n    \"title\": \"Recibo ejemplo - Actualizado\",\n    \"invoiceStatus\": \"paid\",\n    \"invoiceType\": \"charge\",\n    \"registeredBy\": \"administration\",\n    \"amounts\": {\n      \"subtotal\": 165.29,\n      \"tax\": 34.71,\n      \"total\": 200.00\n    },\n    \"total\": 200.00,\n    \"IVA\": 21,\n    \"expirationDate\": \"2025-02-15T10:00:00.000Z\",\n    \"emissionDate\": \"2025-01-15T10:00:00.000Z\",\n    \"notes\": \"Recibo actualizado y pagado\"\n  }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/invoices/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "invoices", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "vl4fuv32wbmxvwotuzxfrktj"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/invoices/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "invoices", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "bswo1nu9q48cch7jstlvzp3p"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "OBSERVATIONS",
      "item": [
        {
          "name": "List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/observations?populate=*",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "observations"],
              "query": [
                {
                  "key": "populate",
                  "value": "*"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": {\n    \"title\": \"Observación\",\n    \"description\": \"Detalle\",\n    \"date\": \"2025-10-01\"\n  }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/observations",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "observations"]
            }
          },
          "response": []
        },
        {
          "name": "Get By documentID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/observations/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "observations", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "o46pn2s6zh77t7bczwo5tz5h"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": {\n    \"title\": \"Observación Actualizada\",\n    \"description\": \"Detalle modificado con información adicional\",\n    \"date\": \"2025-10-15\"\n  }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/observations/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "observations", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "vjv3zapvrv7m498denjw4v02"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/observations/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "observations", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "o46pn2s6zh77t7bczwo5tz5h"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "PROMOTIONS",
      "item": [
        {
          "name": "List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/promotions?populate=*",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "promotions"],
              "query": [
                {
                  "key": "populate",
                  "value": "*"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": {\n    \"title\": \"Promo octubre\",\n    \"discount\": 10,\n    \"promotionType\": \"one_time\",\n    \"isActive\": true,\n    \"start\": \"2025-10-01\",\n    \"end\": \"2025-10-31\"\n  }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/promotions",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "promotions"]
            }
          },
          "response": []
        },
        {
          "name": "Get By documentID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/promotions/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "promotions", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "mi3dzosd90t7oda0lmtszz4p"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": {\n    \"title\": \"Promo octubre - Actualizada\",\n    \"discount\": 15,\n    \"promotionType\": \"one_time\", // one_time | monthly\n    \"isActive\": false,\n    \"start\": \"2025-10-01\",\n    \"end\": \"2025-11-15\",\n    \"description\": \"Promoción extendida hasta noviembre\"\n  }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/promotions/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "promotions", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "mi3dzosd90t7oda0lmtszz4p"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/promotions/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "promotions", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "mi3dzosd90t7oda0lmtszz4p"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "SERVICES",
      "item": [
        {
          "name": "List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/services?populate=*",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "services"],
              "query": [
                {
                  "key": "populate",
                  "value": "*"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": {\n    \"title\": \"Servicio escolar\",\n    \"amount\": 10,\n    \"serviceType\": \"school_service\", // student_service | employee_service | school_service | other\n    \"serviceStatus\": \"active\"\n  }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/services",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "services"]
            }
          },
          "response": []
        },
        {
          "name": "Get By documentID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/services/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "services", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "{{serviceId}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"data\": {\n        \"title\": \"Servicio de empleado\",\n        \"serviceType\": \"employee_service\" // student_service | employee_service | school_service | other\n    }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/services/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "services", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "d1o36rsgqxl27h0oat4qoz1b"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/services/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "services", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "d1o36rsgqxl27h0oat4qoz1b"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "SCHOOL PERIODS",
      "item": [
        {
          "name": "List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/school-periods?populate=*",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "school-periods"],
              "query": [
                {
                  "key": "populate",
                  "value": "*"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"data\": {\n        \"title\": \"Curso 2026\",\n        \"period\": [\n            {\n                \"year\": \"2026\",\n                \"start\": \"2026-01-01\",\n                \"end\": \"2026-06-30\"\n            }\n        ]\n    }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/school-periods",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "school-periods"]
            }
          },
          "response": []
        },
        {
          "name": "Get By documentID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/school-periods/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "school-periods", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "w85yde8vq32ncrlbnnf03ylm"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"data\": {\n        \"title\": \"Curso 2025 - Actualizado\",\n        \"period\": [\n            {\n                \"year\": \"2025\",\n                \"start\": \"2025-01-01\",\n                \"end\": \"2025-12-31\"\n            }\n        ]\n    }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/school-periods/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "school-periods", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "w85yde8vq32ncrlbnnf03ylm"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/school-periods/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "school-periods", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "{{schoolPeriodId}}"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "HISTORIES",
      "item": [
        {
          "name": "List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/histories?sort[0]=timestamp:desc&pagination[page]=1&pagination[pageSize]=10&populate=*",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "histories"],
              "query": [
                {
                  "key": "sort[0]",
                  "value": "timestamp:desc",
                  "description": "Order by timestamp desc"
                },
                {
                  "key": "pagination[page]",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "pagination[pageSize]",
                  "value": "10",
                  "description": "Items per page (max 100)"
                },
                {
                  "key": "populate",
                  "value": "*",
                  "description": "Populate relations (if any)"
                },
                {
                  "key": "filters[level][$eq]",
                  "value": "",
                  "description": "Filter by level (INFO, WARN, ERROR, DEBUG)",
                  "disabled": true
                },
                {
                  "key": "filters[event_type][$containsi]",
                  "value": "",
                  "description": "Filter by event type (contains, case-insensitive)",
                  "disabled": true
                },
                {
                  "key": "filters[module][$containsi]",
                  "value": "",
                  "description": "Filter by module (contains, case-insensitive)",
                  "disabled": true
                },
                {
                  "key": "filters[trace_id][$eq]",
                  "value": "",
                  "description": "Filter by trace_id (exact)",
                  "disabled": true
                },
                {
                  "key": "filters[status_code][$eq]",
                  "value": "",
                  "description": "Filter by status_code (exact)",
                  "disabled": true
                },
                {
                  "key": "filters[timestamp][$gte]",
                  "value": "",
                  "description": "Filter timestamp greater or equal (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "filters[timestamp][$lte]",
                  "value": "",
                  "description": "Filter timestamp less or equal (YYYY-MM-DD)",
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get By documentID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/histories/:documentID?populate=*",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "histories", ":documentID"],
              "query": [
                {
                  "key": "populate",
                  "value": "*"
                }
              ],
              "variable": [
                {
                  "key": "documentID",
                  "value": "xxxxxxxxxxxxxxxxxxxxxxxx"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": {\n    \"title\": \"User login\",\n    \"message\": \"User logged in successfully.\",\n    \"trace_id\": \"trace-123\",\n    \"timestamp\": \"2025-10-09T00:00:00.000Z\",\n    \"module\": \"auth\",\n    \"event_type\": \"login\",\n    \"level\": \"INFO\",\n    \"status_code\": \"200\",\n    \"duration_ms\": \"35\",\n    \"user_id\": \"user-1\",\n    \"payload\": { \"ip\": \"127.0.0.1\" }\n  }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/histories",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "histories"]
            }
          },
          "response": []
        },
        {
          "name": "Update by documentID",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"data\": { \"message\": \"Updated message\" }\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/histories/:documentID",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "histories", ":documentID"],
              "variable": [
                {
                  "key": "documentID",
                  "value": "xxxxxxxxxxxxxxxxxxxxxxxx"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete by documentID",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/histories/:documentID",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "histories", ":documentID"],
              "variable": [
                {
                  "key": "documentID",
                  "value": "xxxxxxxxxxxxxxxxxxxxxxxx"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "FISCAL REPORT",
      "item": [
        {
          "name": "233 History",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/reports/233/history?year=2025&page=1&pageSize=10",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "reports", "233", "history"],
              "query": [
                {
                  "key": "year",
                  "value": "2025",
                  "description": "Filtrar por año fiscal"
                },
                {
                  "key": "quarter",
                  "value": "Q1",
                  "description": "Filtrar por trimestre (Q1, Q2, Q3, Q4)",
                  "disabled": true
                },
                {
                  "key": "concept",
                  "value": "all",
                  "description": "Filtrar por concepto (all, matricula, comedor)",
                  "disabled": true
                },
                {
                  "key": "format",
                  "value": "csv",
                  "description": "Filtrar por formato (csv, xlsx, pdf)",
                  "disabled": true
                },
                {
                  "key": "centerCode",
                  "value": "12345",
                  "description": "Filtrar por código del centro",
                  "disabled": true
                },
                {
                  "key": "startDate",
                  "value": "2025-01-01",
                  "description": "Fecha de inicio (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "2025-12-31",
                  "description": "Fecha de fin (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "1",
                  "description": "Número de página"
                },
                {
                  "key": "pageSize",
                  "value": "10",
                  "description": "Registros por página"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "233 Preview",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/reports/233/preview?concept=all&page=1&pageSize=25&year=2025",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "reports", "233", "preview"],
              "query": [
                {
                  "key": "concept",
                  "value": "all",
                  "description": "Filtro por concepto de facturación. Valores: 'all', 'tuition', 'transport', 'food', 'materials', 'activities'"
                },
                {
                  "key": "studentId",
                  "value": "1",
                  "description": "ID específico del estudiante para filtrar",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "1",
                  "description": "Número de página para paginación (por defecto: 1)"
                },
                {
                  "key": "pageSize",
                  "value": "25",
                  "description": "Cantidad de registros por página (por defecto: 25)"
                },
                {
                  "key": "year",
                  "value": "2025",
                  "description": "Año fiscal del reporte (requerido)"
                },
                {
                  "key": "quarter",
                  "value": "Q1",
                  "description": "Trimestre fiscal: Q1, Q2, Q3, Q4 (opcional)",
                  "disabled": true
                },
                {
                  "key": "studentName",
                  "value": "Sá",
                  "description": "Filtro por nombre o apellido del estudiante (búsqueda case-insensitive)",
                  "disabled": true
                },
                {
                  "key": "centerCode",
                  "value": "",
                  "description": "Código del centro educativo (opcional)",
                  "disabled": true
                },
                {
                  "key": "includeMonths",
                  "value": "true",
                  "description": "Incluir desglose mensual en el reporte (true/false)",
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "233 Generate XLSX",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"year\": 2025,\n//   \"quarter\": \"Q1\",\n  \"concept\": \"all\",\n  \"format\": \"xlsx\",\n  \"centerCode\": \"12345\"\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/reports/233/generate",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "reports", "233", "generate"]
            }
          },
          "response": []
        },
        {
          "name": "233 Generate CSV",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"year\": 2025,\n  \"quarter\": \"Q1\",\n  \"concept\": \"all\",\n  \"format\": \"csv\",\n  \"centerCode\": \"12345\"\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/reports/233/generate",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "reports", "233", "generate"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "PDF REPORTS",
      "item": [
        {
          "name": "Invoice PDF (inline)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/pdf"
              }
            ],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/reports/pdf/invoice/:documentId?store=false",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "reports", "pdf", "invoice", ":documentId"],
              "query": [
                {
                  "key": "store",
                  "value": "false",
                  "description": "Si true, sube el PDF a Cloudinary y devuelve URL JSON. Por defecto false: stream inline"
                }
              ],
              "variable": [
                {
                  "key": "documentId",
                  "value": "th641qcgloxv53dew44ui0kx"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Payroll PDF (inline)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/pdf"
              }
            ],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/reports/pdf/payroll/:documentId?store=false",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "reports", "pdf", "payroll", ":documentId"],
              "query": [
                {
                  "key": "store",
                  "value": "false",
                  "description": "Si true, sube el PDF a Cloudinary y devuelve URL JSON. Por defecto false: stream inline"
                }
              ],
              "variable": [
                {
                  "key": "documentId",
                  "value": "t7itatnnrct9u6tgkqntiref"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Service Invoice PDF (inline)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/pdf"
              }
            ],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/reports/pdf/service/:documentId?store=false",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "reports", "pdf", "service", ":documentId"],
              "query": [
                {
                  "key": "store",
                  "value": "false",
                  "description": "Si true, sube el PDF a Cloudinary y devuelve URL JSON. Por defecto false: stream inline"
                }
              ],
              "variable": [
                {
                  "key": "documentId",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "General Invoice PDF (inline)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/pdf"
              }
            ],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/reports/pdf/general/:documentId?store=false",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "reports", "pdf", "general", ":documentId"],
              "query": [
                {
                  "key": "store",
                  "value": "false",
                  "description": "Si true, sube el PDF a Cloudinary y devuelve URL JSON. Por defecto false: stream inline"
                }
              ],
              "variable": [
                {
                  "key": "documentId",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "BACKUP",
      "item": [
        {
          "name": "List Backups",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/backups?sort[0]=createdAt:desc&pagination[page]=1&pagination[pageSize]=10",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "backups"],
              "query": [
                {
                  "key": "sort[0]",
                  "value": "createdAt:desc",
                  "description": "Ordenar por fecha de creación descendente"
                },
                {
                  "key": "pagination[page]",
                  "value": "1",
                  "description": "Número de página para paginación"
                },
                {
                  "key": "pagination[pageSize]",
                  "value": "10",
                  "description": "Número de elementos por página"
                },
                {
                  "key": "filters[statusBackup][$eq]",
                  "value": "",
                  "description": "Filtrar por estado (pending, completed, failed, corrupted)",
                  "disabled": true
                },
                {
                  "key": "filters[backupType][$eq]",
                  "value": "",
                  "description": "Filtrar por tipo (manual, scheduled, other)",
                  "disabled": true
                },
                {
                  "key": "filters[filename][$contains]",
                  "value": "",
                  "description": "Buscar por nombre de archivo",
                  "disabled": true
                },
                {
                  "key": "filters[createdAt][$gte]",
                  "value": "",
                  "description": "Filtrar por fecha de creación mayor o igual (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "filters[createdAt][$lte]",
                  "value": "",
                  "description": "Filtrar por fecha de creación menor o igual (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "filters[originalSize][$gte]",
                  "value": "",
                  "description": "Filtrar por tamaño original mayor o igual (bytes)",
                  "disabled": true
                }
              ]
            },
            "description": "**Lista todos los backups disponibles**\n\n**Filtros disponibles:**\n- `filters[statusBackup][$eq]`: Estados posibles: `pending`, `completed`, `failed`, `corrupted`\n- `filters[backupType][$eq]`: Tipos: `manual`, `scheduled`, `other`\n- `filters[filename][$contains]`: Buscar por nombre de archivo\n- `filters[createdAt][$gte]` / `[$lte]`: Filtrar por rango de fechas (formato: YYYY-MM-DD)\n- `filters[originalSize][$gte]`: Filtrar por tamaño mínimo en bytes\n\n**Paginación:**\n- `pagination[page]`: Número de página (default: 1)\n- `pagination[pageSize]`: Elementos por página (default: 25, max: 100)\n\n**Ordenamiento:**\n- `sort[0]`: Campo:dirección (ej: `createdAt:desc`, `filename:asc`)"
          },
          "response": []
        },
        {
          "name": "Create Backup",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Backup manual de prueba\"\n}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/backups",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "backups"]
            },
            "description": "Crea un backup en formato PostgreSQL dump (.dump) usando pg_dump y lo guarda en la carpeta /backups o en Cloudinary (resource_type: raw). Opcional: puedes enviar { \"description\": \"texto\" } para documentar el backup.\n\nComportamiento:\n- Genera archivo backup_YYYYMMDD_hhmmss.dump (formato custom)\n- Calcula checksum y tamaño\n- Registra el backup en la colección con metadata { type: 'postgres-dump', schema }\n\nRespuesta:\n- Devuelve el registro creado con filename, filePath, tamaño, checksum y estado."
          },
          "response": []
        },
        {
          "name": "Restore Backup",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{}"
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/backups/:documentId/restore",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "backups", ":documentId", "restore"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "8"
                }
              ]
            },
            "description": "Restaura un backup específico en formato PostgreSQL dump (.dump) usando pg_restore.\n\n**Comportamiento:**\n- Detecta automáticamente si el backup es .dump (nuevo) o .tar.gz (legado) y aplica el método correspondiente\n- Para .dump: usa `pg_restore --clean --if-exists --no-owner --no-privileges`\n- Tolera warnings de opciones no reconocidas (p.ej. transaction_timeout)\n\n**Parámetros:**\n- `documentId`: ID del backup a restaurar\n\n**Respuesta:**\n- Resumen con contadores por tablas afectadas y estado final"
          },
          "response": []
        },
        {
          "name": "Restore from Upload",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/backups/restore/upload",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "backups", "restore", "upload"]
            },
            "description": "Sube y restaura un archivo de backup en formato PostgreSQL dump (.dump).\n\n**Tipos de archivo soportados:**\n- `.dump` (formato custom de pg_dump)\n\n**Parámetros form-data:**\n- `file` (o `backup`): Archivo .dump a subir y restaurar\n\n**Proceso:**\n1. Validación del archivo subido\n2. Restauración con pg_restore\n3. Limpieza de archivos temporales\n\n**Respuesta exitosa:**\n- Resumen de restauración con contadores"
          },
          "response": []
        },
        {
          "name": "Download Backup",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/octet-stream"
              }
            ],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/backups/:documentId/download",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "backups", ":documentId", "download"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "12"
                }
              ]
            },
            "description": "Descarga el archivo de backup (.dump) desde el servidor o redirige a Cloudinary si el archivo está remoto.\n\n**Headers de respuesta (archivo local):**\n- `Content-Type`: `application/octet-stream`\n- `Content-Disposition`: attachment; filename=\"backup_YYYYMMDD_HHMMSS.dump\"\n- `Access-Control-Expose-Headers`: Content-Disposition (permite al frontend acceder al filename)\n\n**Notas:**\n- Requiere autenticación (Bearer token).\n- Si `filePath` es una URL (Cloudinary), el endpoint devuelve redirect 302 a esa URL.\n- El frontend puede extraer el filename correcto del header Content-Disposition en descargas locales."
          },
          "response": []
        },
        {
          "name": "Export Backups XLSX",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
              }
            ],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/backups/export/xlsx",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "backups", "export", "xlsx"]
            },
            "description": "Genera y descarga un Excel (.xlsx) desde la BD actual con un resumen por tabla y hojas por content-type.\n\nComportamiento:\n- Hoja \"Resumen\": incluye columnas `Tabla`, `UID` (uid completo api::...), `Hoja` (nombre de la hoja), y `Cantidad`.\n- Hojas de datos: incluyen `id`, `createdAt`, `updatedAt` y campos de tipo `string/text` (hasta 7 columnas por hoja).\n- Por defecto exporta todas las filas; puedes limitar con `?limit=<n>` (ej. `?limit=200`).\n\nNotas:\n- Requiere autenticación (Bearer token).\n\nEjemplo: GET {{STRAPI_URL_LOCAL}}/api/backups/export/xlsx"
          },
          "response": []
        },
        {
          "name": "Export XLSX (by backup)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
              }
            ],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/backups/:documentId/export/xlsx",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "backups", ":documentId", "export", "xlsx"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "12"
                }
              ]
            },
            "description": "Genera y descarga un Excel (.xlsx) desde un backup.\n\nComportamiento:\n- Si el backup es `.tar.gz` (legado), exporta desde ese archivo.\n- Si el backup es `.dump` o el archivo no está disponible, exporta desde la BD actual."
          },
          "response": []
        },
        {
          "name": "Export JSON (by backup)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/backups/:documentId/export/json",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "backups", ":documentId", "export", "json"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "12"
                }
              ]
            },
            "description": "Genera y descarga un JSON consolidado desde un backup.\n\nComportamiento:\n- Si el backup es `.tar.gz` (legado), exporta desde ese archivo.\n- Si el backup es `.dump` o el archivo no está disponible, exporta desde la BD actual."
          },
          "response": []
        },
        {
          "name": "Delete Backup",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/backups/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "backups", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "16"
                }
              ]
            },
            "description": "**Elimina un backup específico**\n\n**Parámetros:**\n- `documentId`: ID del backup a eliminar\n\n**⚠️ PRECAUCIÓN:**\nEsta operación es irreversible. El backup y su archivo asociado serán eliminados permanentemente.\n\n**Proceso de eliminación:**\n1. Verifica que el backup existe\n2. Elimina el archivo físico del sistema\n3. Elimina el registro de la base de datos\n\n**Estados que permiten eliminación:**\n- `completed`: Backup completado\n- `failed`: Backup fallido\n- `corrupted`: Backup corrupto\n\n**Respuesta exitosa:**\n- Status 200: Backup eliminado correctamente\n- Incluye información del backup eliminado"
          },
          "response": []
        },
        {
          "name": "Sync Backups (Filesystem → DB)",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/backups/sync",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "backups", "sync"]
            },
            "description": "Sincroniza el índice de backups con los archivos presentes en la carpeta /backups.\n\nAcciones:\n- Revisa archivos huérfanos (presentes en FS pero sin registro en BD) y los reporta.\n- No elimina archivos ni modifica registros (modo seguro).\n\nRespuesta: resumen con contadores (registeredBackups, physicalFiles, orphanFilesFound, orphanFilesRemoved)."
          },
          "response": []
        }
      ]
    },
    {
      "name": "STATISTICS",
      "item": [
        {
          "name": "Dashboard Principal",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/statistics/dashboard",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "statistics", "dashboard"]
            },
                        "description": "Obtiene estadísticas completas del dashboard incluyendo:\n\n**Datos incluidos:**\n- Cantidad de invoices pendientes (estudiantes y empleados)\n- Distribución por edad de estudiantes (0-2, 3-5, 6-8, 9-11, 12-14, +15) con promedio y grupo mayor\n- Estado de capacidad de aulas (porcentaje ocupación, disponibles, llenas)\n- Estados de pago para inscripciones, empleados y servicios generales\n- Inscripciones - Distribución por conceptos (Top 3 + Others)\n- Inscripciones - Evolución trimestral del año actual (Total general, Matrícula, Others)\n- Inscripciones - Totales por meses del año actual (suma general de inscripciones). Se mantiene la propiedad 'enrollmentMatriculaMonthly' por compatibilidad.\n- Últimos 5 recibos por vencer\n- Últimas 5 inscripciones\n- Últimos 5 estudiantes registrados\n- Estadísticas mensuales de los últimos 6 meses con promedios\n\n**Autenticación:** Requerida\n**Permisos:** Verificar que el rol tenga acceso a statistics\n\n**Respuesta exitosa:**\n- Objeto con todas las estadísticas organizadas por categorías\n- Metadata con timestamp y endpoint\n\n**Códigos de error:**\n- 401: Autenticación requerida\n- 403: Permisos insuficientes\n- 500: Error interno del servidor"
          },
          "response": []
        },
        {
          "name": "Estadísticas de Inscripción",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/statistics/enrollment/:documentId",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": ["api", "statistics", "enrollment", ":documentId"],
              "variable": [
                {
                  "key": "documentId",
                  "value": "jx2dxictp08eq7tnpjgrikfz",
                  "description": "ID del documento de la inscripción"
                }
              ]
            },
            "description": "Obtiene estadísticas de recibos para una inscripción específica.\n\n**Parámetros:**\n- `documentId` (string): ID del documento de la inscripción\n\n**Datos incluidos:**\n- Cantidad total de recibos\n- Monto total de los recibos\n- Cantidad de recibos pagados\n- Cantidad de recibos pendientes\n- Información básica de la inscripción\n\n**Autenticación:** Requerida\n**Permisos:** Verificar que el rol tenga acceso a statistics\n\n**Respuesta exitosa:**\n- Estadísticas de facturación de la inscripción\n- Metadata con timestamp, endpoint y documentId\n\n**Códigos de error:**\n- 400: DocumentId requerido o inválido\n- 401: Autenticación requerida\n- 403: Permisos insuficientes\n- 404: Inscripción no encontrada\n- 500: Error interno del servidor"
          },
          "response": []
        },
        {
          "name": "Estadísticas de Nóminas de Empleado",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{STRAPI_URL_LOCAL}}/api/statistics/employee/:documentId/payroll",
              "host": ["{{STRAPI_URL_LOCAL}}"],
              "path": [
                "api",
                "statistics",
                "employee",
                ":documentId",
                "payroll"
              ],
              "variable": [
                {
                  "key": "documentId",
                  "value": "abc123def456",
                  "description": "ID del documento del empleado"
                }
              ]
            },
            "description": "Obtiene estadísticas de nóminas para un empleado específico.\n\n**Parámetros:**\n- `documentId` (string): ID del documento del empleado\n\n**Datos incluidos:**\n- Cantidad total de nóminas\n- Monto total de las nóminas\n- Cantidad de nóminas pagadas\n- Cantidad de nóminas pendientes\n- Información básica del empleado (nombre completo)\n\n**Filtros aplicados:**\n- Solo facturas de categoría 'invoice_employ'\n- Basado en la totalidad de las nóminas del empleado\n\n**Autenticación:** Requerida\n**Permisos:** Verificar que el rol tenga acceso a statistics\n\n**Respuesta exitosa:**\n- Estadísticas de nóminas del empleado\n- Metadata con timestamp, endpoint y documentId\n\n**Códigos de error:**\n- 400: DocumentId requerido o inválido\n- 401: Autenticación requerida\n- 403: Permisos insuficientes\n- 404: Empleado no encontrado\n- 500: Error interno del servidor"
          },
          "response": []
        }
      ]
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{token}}",
        "type": "string"
      }
    ]
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "requests": {},
        "exec": [""]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "requests": {},
        "exec": [""]
      }
    }
  ],
  "variable": [
    {
      "key": "STRAPI_URL_LOCAL",
      "value": "http://localhost:1337"
    },
    {
      "key": "token",
      "value": ""
    }
  ]
}
